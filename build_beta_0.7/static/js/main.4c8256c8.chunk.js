(this.webpackJsonpscore_gym=this.webpackJsonpscore_gym||[]).push([[0],{51:function(e,t,a){e.exports=a.p+"static/media/metro_1.14d657e7.mp3"},52:function(e,t,a){e.exports=a.p+"static/media/metro_other.29b77406.mp3"},53:function(e,t,a){e.exports=a.p+"static/media/clap01.3019756d.mp3"},57:function(e,t,a){e.exports=a(89)},62:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),r=a(18),l=a.n(r),i=(a(62),a(13)),c=a(14),u=a(8),o=a(16),m=a(15),p=a(56),h={barsQuant:8,measure:"four_quarters",pauseValue:10,easyOBProb:20,tripletValue:90,groupRest:!0,bpm:70,easyGrouping:95,linkIns:!0,linkOut:50,lvl:2,simpleK:50,dotsK:-.1,groupK:60,maxK:60,beat:!0,beatNumb:!0,beamNum:1,noteValues:{whole:5,half:11,quarter:15,eighth:35,sixteenth:36,thirtySecond:0},dottedValues:{whole:-.1,half:5,quarter:10,eighth:30,sixteenth:0,thirtySecond:0},groupingValues:{whole:-.1,half:3,quarter:10,eighth:12},simValIns:{whole:-.1,half:5,quarter:15,eighth:20,sixteenth:25,thirtySecond:0},quintepletMap:{whole:-.1,half:5,quarter:15,eighth:0},maxSimple:5,maxDotted:4,maxTuplet:4,maxValsInTuplet:5,maxQuintepletProb:3,inputLag:300,metronomeSwitch:!1,mistakes:null,mode:null,settings:!1,info:!1,tips:!0,tab:0},d=function(e){return{state:e}},b=function(e){return{updateState:function(t){e(function(e){return{type:"UPDATE",newState:e}}(t))}}},E=a(12),g=a(51),f=a.n(g),v=a(52),y=a.n(v),k=a(53),S=a.n(k),N=a(25),x=[[["whole","whole--rest",4],["half","half--rest",2],["quarter","quarter--rest",1],["eighth","eighth--rest",.5],["sixteenth","sixteenth--rest",.25],["thirty-second","thirty-second--rest",.125]]].concat([[["whole--dot","whole--dot--rest",6],["half--dot","half--dot--rest",3],["quarter--dot","quarter--dot--rest",1.5],["eighth--dot","eighth--dot--rest",.75],["sixteenth--dot","sixteenth--dot--rest",.375],["thirty-second--dot","thirty-second--dot--rest",.1875]]]);x=x.concat([[["whole--triplet","whole--quinteplet",4],["half--triplet","half--quinteplet",2],["quarter--triplet","quarter--quinteplet",1],["eighth--triplet","eighth--quinteplet",.5]]]);var w={two_quarters:2,three_quarters:3,four_quarters:4,five_quarters:5,seven_quarters:7,five_eights:2.5,six_eights:3},V=[/eighth|sixteenth|thirty-second/,/rest/],_=1,q=4,O=[],j=4,I=10,T=20,M=90,L=100,P=!0,R=0,A=0,K=!0,C=!1,B=70,D={whole:5,half:11,quarter:44,eighth:56,sixteenth:64,thirtySecond:0},Q=Object.keys(D),F=[],G=null,z={whole:-.1,half:-.1,quarter:10,eighth:30,sixteenth:0,thirtySecond:0},U=Object.keys(z),H=[],W=null,X={whole:-.1,half:3,quarter:10,eighth:12},J=Object.keys(X),Y=[],$=null,Z=null,ee={whole:-.1,half:5,quarter:15,eighth:20,sixteenth:25,thirtySecond:30},te=Object.keys(ee),ae=[],ne=null,se={whole:-.1,half:5,quarter:15,eighth:0},re=Object.keys(se),le=[],ie=0,ce=0,ue=0,oe=75,me=95,pe=100,he=null,de=[oe,me,pe];function be(e){for(var t in _=e.beamNum,q=e.barsQuant,j=w[e.measure],I=e.pauseValue,T=e.easyOBProb,M=e.tripletValue,L=e.easyGrouping,P=e.linkIns,R=e.linkOut,A=e.lvl,oe=e.simpleK,me=e.dotsK,pe=e.groupK,K=e.groupRest,C=e.showBeat,B=e.fixingBeatProb,D=e.noteValues,F=[],G=null,Q)0!==D[Q[t]]&&(F.push([Q[t]]),F[t].push(D[Q[t]]));for(var a in G=F.reverse()[0][1],F.reverse(),z=e.dottedValues,H=[],W=null,U)0!==z[U[a]]&&(H.push([U[a]]),H[a].push(z[U[a]]));for(var n in W=H.reverse()[0][1],H.reverse(),X=e.groupingValues,Y=[],$=null,J)0!==X[J[n]]&&(Y.push([J[n]]),Y[n].push(X[J[n]]));for(var s in $=Y.reverse()[0][1],Y.reverse(),ee=e.simValIns,ae=[],ne=null,te)0!==ee[te[s]]&&(ae.push([te[s]]),ae[s].push(ee[te[s]]));for(var r in ne=ae.reverse()[0][1],ae.reverse(),se=e.quintepletMap,le=[],null,re)0!==se[re[r]]&&(le.push([re[r]]),le[r].push(se[re[r]]));le.reverse()[0][1],le.reverse(),Z=[[F,G],[H,W],[Y,$]],de=[oe,me,pe],he=0===A?oe-1:1===A?me-1:100}function Ee(){var e=[];O=[];for(var t=function(){var t=j-ue,a=Math.round(Math.random()*he);ie=null,de.forEach((function(e,n){a<e&&!ie&&0!==ie&&t>=x[n][Z[n][0].length-1][2]?ie=n:ie||0===ie||n!==Z.length-1||(ie=0)})),!Number.isInteger(ue)&&2===ie&&me>oe&&t>=x[1][Z[1][0].length-1][2]?ie=1:!Number.isInteger(ue)&&2===ie&&me<oe&&(ie=0);var n=null,s=null;x[ie].forEach((function(e,a){e[2]<=t&&!n&&0!==n&&(n=a,s=a)}));var r=j-ue<=1&&O.length+1<q&&R&&2!==ie?Math.round(100*Math.random()):null;r<R&&r&&(n=1),ge(n,ue,ie);var l=function(){if("whole--triplet"===x[ie][0][0]){return Math.round(100*Math.random())<=M||2===ie&&(le.length<=ce||le[ce][1]<0)?0:1}if(Math.round(100*Math.random())<I)return 1;return 0}(),i=x[ie][ce][2]-t;if(j-ue<=1&&!x[0].some((function(e){return e[2]===i}))&&!x[1].some((function(e){return e[2]===i}))&&2!==ie&&i>0&&(ce=s),ue+x[ie][ce][2]>j){var c=function(e,t,a,n,s){var r=j-s,l=0,i=null;for(;j-s;){var c=l?0:1;if(x[c].forEach((function(e,t){e[2]!==r||i||0===i||(i=t)})),l++,i){e.push([(0===n?"1":"")+x[c][i][n],x[c][i][2]]);e=fe(0,0,[],e),t.push(e),s+=x[c][i][2]}}e=[],s=0,l=0;for(;s!==x[ie][a][2]-r;){i=null;var u=l?0:1;x[u].forEach((function(e,t){e[2]!==x[ie][a][2]-r||i||0===i||(i=t)})),l++,i&&(e.push([x[u][i][n],x[u][i][2]]),s+=x[u][i][2])}return[e,t,s]}(e,O,ce,l,ue),u=Object(N.a)(c,3);e=u[0],O=u[1],ue=u[2]}else if(P&&!Number.isInteger(x[ie][ce][2]+ue)&&!Number.isInteger(ue)&&ue+x[ie][ce][2]<=j&&x[ie][ce][2]+ue>Math.ceil(ue)&&F.length<6&&2!==ie){var o=function(e,t,a,n,s){var r=Math.ceil(s)-s,l=0,i=null,c=0,u=function(){var e=c?0:1;x[e].forEach((function(a,c){!i&&0!==i&&x[e][c][2]<=r&&(e&&c<4||!e)&&(i=c,t.push([(0===n?"0":"")+x[e][i][n],x[e][i][2]]),r-=x[e][i][2],s+=x[e][i][2],l+=x[e][i][2])})),c++};for(;r>0;)u();r=x[e][a][2]-l,c=0,i=null;var o=function(){(r>1||c>1)&&x[0].forEach((function(e,a){!i&&0!==i&&x[0][a][2]<=r&&(i=a,t.push([x[0][i][n],x[0][i][2]]),r-=x[0][i][2],s+=x[0][i][2],i=null)}));var e=c?0:1;x[e].forEach((function(a,l){!i&&0!==i&&x[e][l][2]<=r&&(e&&l<4||!e)&&(i=l,t.push([x[e][i][n],x[e][i][2]]),r-=x[e][i][2],s+=x[e][i][2],i=null)})),c++};for(;r>0;)o();return[t,s]}(ie,e,ce,l,ue),m=Object(N.a)(o,2);e=m[0],ue=m[1]}else e.push([x[ie][ce][l],x[ie][ce][2]]),ue+=x[ie][ce][2];if("whole--triplet"===x[ie][0][0]){var p=[];!function(e,t,a,n){var s;s=a?x[e][t][2]/4*5:x[e][t][2]/2*3;var r=null,l=0,i=Math.round(100*Math.random())-1,c=function(){var e=s-l,t=null,c=void 0;if(x[0].forEach((function(a,n){a[2]<=e&&!t&&0!==t&&(t=n,r||(r=n))})),i<L)c=t=a?r+2:r+1;else{c=ge(t,l,0,1)}n.push([x[0][c][0],x[0][c][2]]),l+=x[0][c][2]};for(;l<s;)c()}(ie,ce,l,p),e.push(p)}if(String(j-ue).length>3&&100*Math.random()<=B&&x[0].forEach((function(t){(t[2]+ue===Math.ceil(ue)||t[2]+ue===Math.ceil(ue)-_/2)&&String(j-ue).length>3&&(e.push([t[0],t[2]]),ue+=t[2])})),ue===j){e=fe(0,0,[],e),O.push(e),e=[],ue=0}};O.length<q;)t();return O[0].unshift(j),{bars:O,maxSimple:F.length,maxDotted:H.length,maxTuplet:Y.length,maxValsInTuplet:ae.length,maxQuintepletProb:le.length}}function ge(e,t,a,n){var s,r=n?ne:Z[a][1];ce=0;var l=Z[a][0];if(0===e?s=0:n||(s=Math.round(Z[a][0][e-1][1])),Number.isInteger(t)&&Z[a][0].length>e+2&&!n){var i=Math.round(100*Math.random());0===t&&i-30<T&&Z[a][0].length>e+3?r=Z[a][0][e+3][1]:i<T&&(r=Z[a][0][e+2][1])}n&&(s=0===e?0:ae[e-1][1],l=ae);var c=Math.random()*(r-s)+s;for(var u in l)if(c<l[u][1])return ce=Number(u);return ce=e}function fe(e,t,a,n,s){var r=0;return n.forEach((function(l,i){if(e+=l[1],Array.isArray(l[0]))return l=fe(0,0,[],l,!0),r=0,t=0,void(a=[]);if(V[0].test(l[0])&&!V[1].test(l[0])?(t+=l[1],a.push(l[0])):(t=0,a=[]),(t>_||t===_&&!a.some((function(e){return/sixteenth|thirty-second/.test(e)})))&&(t=0,a=[]),/rest/.test(l[0])){var c=null;i+1<=n.length-1&&/rest/.test(n[i+1][0])&&K&&(x.forEach((function(t){return t.forEach((function(t){t[2]!==l[1]+n[i+1][1]||c||(n[i][0]=t[1],n[i][1]=t[2],e+=n[i+1][1],c=!0)}))})),c&&n.splice(i+1,1))}else{if(!V[0].test(l[0]))return;if(V[1].test(l[0]))return;i+1<=n.length-1&&V[0].test(n[i+1][0])&&!V[1].test(n[i+1][0])&&!/triplet|quinteplet/.test(n[i][0])&&(t!==l[1]||e===j/2||0!==i&&/--st|--gr/.test(n[i-1][0])&&!Array.isArray(n[i-1][0])||0!==i&&/rest/.test(n[i-1][0])&&Number.isInteger(e)&&C||!(i<=n.length-1)||/triplet|quinteplet/.test(n[i+1][0])?i>0&&/--st|--gr/.test(n[i-1][0])&&(e!==j/2&&t!==_||s)&&r&&i<=n.length-1&&!/triplet|quinteplet/.test(n[i+1][0])&&(/eighth/.test(l[0])?n[i][0]=n[i][0]+"--gr":new RegExp(l[0].match(/\D/g).join("")).test(n[i+1][0])||new RegExp(l[0].match(/\D/g).join("")).test(n[i-1][0])||/sixteenth|thirty-second/.test(l[0])&&/sixteenth|thirty-second/.test(n[i+1][0])?new RegExp(l[0].match(/\D/g).join("")).test(n[i+1][0])||/sixteenth|thirty-second/.test(l[0])&&/sixteenth|thirty-second/.test(n[i+1][0])?n[i][0]=n[i][0]+"--1--gr":n[i][0]=n[i][0]+"--0--gr":n[i][0]=n[i][0]+"--2--gr",r++):(/eighth/.test(l[0])?n[i][0]=n[i][0]+"--st":new RegExp(l[0].match(/\D/g).join("")).test(n[i+1][0])||/sixteenth|thirty-second/.test(l[0])&&/sixteenth|thirty-second/.test(n[i+1][0])?n[i][0]=n[i][0]+"--1--st":n[i][0]=n[i][0]+"--0--st",r++)),!/--st|--gr/.test(l[0])&&i>0&&/--st|--gr/.test(n[i-1][0])&&r&&(i===n.length-1||t===_||e===j/2||!V[0].test(n[i+1][0])||V[1].test(n[i+1][0])||/triplet|quinteplet/.test(n[i+1][0]))&&(/eighth/.test(l[0])?n[i][0]=n[i][0]+"--end":new RegExp(l[0].match(/\D/g).join("")).test(n[i-1][0])?n[i][0]=n[i][0]+"--1--end":n[i][0]=n[i][0]+"--0--end",t=0,a=[],r=0),/--st|--gr|--end/.test(l[0])||(t=0,a=[])}})),n}var ve,ye,ke,Se,Ne,xe,we,Ve,_e,qe,Oe=a(4),je=a.n(Oe),Ie=a(91),Te=a(92),Me=a(93),Le=a(94),Pe=a(95),Re=a(96),Ae=a(97),Ke=a(98),Ce=a(99),Be=a(100),De=a(101),Qe=a(107),Fe=Object(E.b)(d,b)((function(e){var t=Object(n.useState)("".concat(e.state.tab)),a=Object(N.a)(t,2),r=a[0],l=a[1],i=function(e){r!==e&&l(e)};return s.a.createElement("div",null,s.a.createElement("div",{className:"settings__tabs"},s.a.createElement(Ie.a,{tabs:!0},s.a.createElement(Te.a,null,s.a.createElement(Me.a,{className:je()({active:"1"===r}),onClick:function(){i("1"),e.updateState({tab:1})}},"Score Settings")),s.a.createElement(Te.a,null,s.a.createElement(Me.a,{className:je()({active:"2"===r}),onClick:function(){i("2"),e.updateState({tab:2})}},"Bar Settings")),s.a.createElement(Te.a,null,s.a.createElement(Me.a,{className:je()({active:"3"===r}),onClick:function(){i("3"),e.updateState({tab:3})}},"Values Probability"))),s.a.createElement(Le.a,{activeTab:r,className:"settings__tabs__content"},s.a.createElement(Pe.a,{tabId:"1"},s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"4"},s.a.createElement(Ke.a,{body:!0},s.a.createElement(Ce.a,null,"Measure"),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"2/4")),s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"3/4")),s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"4/4"))),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"5/4")),s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"7/4")),s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"5/8"))),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:{size:"4",offset:"4"}},s.a.createElement("p",null,"6/8"))))),s.a.createElement(Ae.a,{md:"3"},s.a.createElement(Ke.a,{body:!0},s.a.createElement(Ce.a,null,"Bar quantity"),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"4")),s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"8")),s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"10"))),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"12")),s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"16")),s.a.createElement(Ae.a,{md:"4"},s.a.createElement("p",null,"20"))))),s.a.createElement(Ae.a,{md:"3"},s.a.createElement(Ke.a,{body:!0},s.a.createElement(Ce.a,null,"BPM"),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:{size:"4",offset:"4"}},s.a.createElement(Be.a,{type:"number",name:"selectMulti",id:"exampleSelectMulti",defaultValue:e.state.bpm}))))))),s.a.createElement(Pe.a,{tabId:"2",className:"tab__bar-settings"},s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:{size:"6",offset:"3"}},s.a.createElement(Ke.a,{body:!0},s.a.createElement(De.a,null,"Longer notes on beat",s.a.createElement(Be.a,{type:"range",defaultValue:e.state.easyOBProb})),s.a.createElement(De.a,null,"Aspiration to strong and weak beats",s.a.createElement(Be.a,{type:"range",defaultValue:e.state.fixingBeatProb})),s.a.createElement(De.a,null,"Pause value",s.a.createElement(Be.a,{type:"range",defaultValue:e.state.pauseValue})),s.a.createElement(De.a,{className:"settings__tabs__content__checkbox"},s.a.createElement(Be.a,{type:"checkbox",defaultChecked:e.state.groupRest})," Summing rests"),s.a.createElement(De.a,{className:"settings__tabs__content__checkbox"},s.a.createElement(Be.a,{type:"checkbox",defaultChecked:e.state.linkIns})," Link inside bar"),s.a.createElement(De.a,null,"Link outside the bar",s.a.createElement(Be.a,{type:"range",defaultValue:e.state.linkOut})),s.a.createElement(De.a,{className:"settings__tabs__content__checkbox"},s.a.createElement(Be.a,{type:"checkbox",defaultChecked:e.state.showBeat})," Show beat (beaming)"))))),s.a.createElement(Pe.a,{tabId:"3"},s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"6",className:"mb-4"},s.a.createElement(Ke.a,{body:!0},s.a.createElement(Ce.a,null,"Simple note values"),s.a.createElement(De.a,null,s.a.createElement(Be.a,{type:"range",defaultValue:100*e.state.simpleK/e.state.maxK})),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:{size:"4",offset:"4"},className:"mb-2 mt-2"},s.a.createElement("button",{className:"btn btn-secondary",id:"simpleVals"},"Settings"))),s.a.createElement(Qe.a,{toggler:"#simpleVals"},s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.noteValues.whole})),s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.noteValues.half})),s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.noteValues.quarter})),s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.noteValues.eighth})),s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.noteValues.sixteenth})),s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.noteValues.thirtySecond}))),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"whole")),s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"half")),s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"quarter")),s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"eighth")),s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"sixteenth")),s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"thirty-second")))))),s.a.createElement(Ae.a,{md:"6",className:e.state.dotsK<=0?"card--inactive mb-4":"mb-4"},s.a.createElement(Ke.a,{body:!0},s.a.createElement(Ce.a,null,"Dotted note values"),s.a.createElement(De.a,null,s.a.createElement(Be.a,{type:"range",defaultValue:100*e.state.dotsK/e.state.maxK})),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:{size:"4",offset:"4"},className:"mb-2 mt-2"},s.a.createElement("button",{className:"btn btn-secondary",id:"dottedVals"},"Settings"))),s.a.createElement(Qe.a,{toggler:"#dottedVals"},s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.dottedValues.whole})),s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.dottedValues.half})),s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.dottedValues.quarter})),s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.dottedValues.eighth})),s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.dottedValues.sixteenth})),s.a.createElement(Ae.a,{md:"2"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.dottedValues.thirtySecond}))),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"whole")),s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"half")),s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"quarter")),s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"eighth")),s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"sixteenth")),s.a.createElement(Ae.a,{md:"2"},s.a.createElement("p",null,"thirty-second")))))),s.a.createElement(Ae.a,{md:{size:"6",offset:"3"},className:e.state.groupK<=0?"card--inactive mb-4":"mb-4"},s.a.createElement(Ke.a,{body:!0},s.a.createElement(Ce.a,null,"Tuplet note values"),s.a.createElement(De.a,null,s.a.createElement(Be.a,{type:"range",defaultValue:100*e.state.groupK/e.state.maxK})),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:{size:"4",offset:"4"},className:"mb-2 mt-2"},s.a.createElement("button",{className:"btn btn-secondary",id:"tupletVals"},"Settings"))),s.a.createElement(Qe.a,{toggler:"#tupletVals"},s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"3"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.groupingValues.whole})),s.a.createElement(Ae.a,{md:"3"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.groupingValues.half})),s.a.createElement(Ae.a,{md:"3"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.groupingValues.quarter})),s.a.createElement(Ae.a,{md:"3"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.groupingValues.eighth}))),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"3"},s.a.createElement("p",null,"whole")),s.a.createElement(Ae.a,{md:"3"},s.a.createElement("p",null,"half")),s.a.createElement(Ae.a,{md:"3"},s.a.createElement("p",null,"quarter")),s.a.createElement(Ae.a,{md:"3"},s.a.createElement("p",null,"eighth"))),s.a.createElement(De.a,null,"Quinteplet Probability",s.a.createElement(Be.a,{type:"range",defaultValue:100-e.state.tripletValue})),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:{size:"4",offset:"4"},className:"mb-2 mt-2"},s.a.createElement("button",{className:"btn btn-secondary",id:"quintepletProb",disabled:100===e.state.tripletValue},"Quinteplet Map"))),s.a.createElement(Qe.a,{toggler:"#quintepletProb"},s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"3"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.quintepletMap.whole})),s.a.createElement(Ae.a,{md:"3"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.quintepletMap.half})),s.a.createElement(Ae.a,{md:"3"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.quintepletMap.quarter})),s.a.createElement(Ae.a,{md:"3"},s.a.createElement(Be.a,{type:"range",className:"input",defaultValue:e.state.quintepletMap.eighth}))),s.a.createElement(Re.a,null,s.a.createElement(Ae.a,{md:"3"},s.a.createElement("p",null,"whole")),s.a.createElement(Ae.a,{md:"3"},s.a.createElement("p",null,"half")),s.a.createElement(Ae.a,{md:"3"},s.a.createElement("p",null,"quarter")),s.a.createElement(Ae.a,{md:"3"},s.a.createElement("p",null,"eighth"))))))))))))})),Ge=a(104),ze=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).mainPage=n.mainPage.bind(Object(u.a)(n)),n.tips=n.tips.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"mainPage",value:function(){var e=this;setTimeout((function(){e.props.updateState({settings:!1}),document.querySelector(".main_page").classList.remove("main_page--settAnim","main_page--settAnim--back")}),700),document.querySelector("nav").classList.remove("nav--out"),document.querySelector(".main_page").classList.add("main_page--settAnim--back"),setTimeout((function(){return document.querySelector(".settings--hook").style.pointerEvents="auto"}),800)}},{key:"tips",value:function(){this.props.updateState({tips:!this.props.state.tips})}},{key:"componentDidMount",value:function(){document.querySelector(".settings_page").style.height=document.querySelector(".main_page").clientHeight+"px",document.querySelector("nav").classList.add("nav--out");var e=document.querySelector(".main_page").classList;e.remove("main_page--settAnim","main_page--settAnim--back"),e.toggle("main_page--settAnim"),setTimeout((function(){return document.querySelector(".main_page--hook_sett").style.pointerEvents="auto"}),700)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"settings_page"},s.a.createElement("h1",{className:"display-4"},"Settings (W.I.P.)"),s.a.createElement("div",{className:"main_page--hook_sett",onMouseOver:this.mainPage},"Main_Page"),s.a.createElement("div",{className:"settings--inside"},s.a.createElement(De.a,{style:{marginLeft:"5em"},id:"tips"},s.a.createElement(Be.a,{type:"checkbox",onClick:this.tips,defaultChecked:this.props.state.tips}),"Tips"),s.a.createElement(Ge.a,{target:"tips",placement:"right"},"Tips on hover"),s.a.createElement(Fe,null))))}}]),a}(s.a.Component),Ue=Object(E.b)(d,b)(ze),He=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).mainPage=n.mainPage.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"mainPage",value:function(){var e=this;document.querySelector(".main_page--hook_info").style.pointerEvents="none",setTimeout((function(){e.props.updateState({info:!1})}),700),document.querySelector("nav").classList.remove("nav--out"),setTimeout((function(){document.querySelector(".info--hook").style.pointerEvents="auto"}),800),document.querySelector(".info_page").classList.add("info_page--infoAnim--back")}},{key:"componentDidMount",value:function(){document.querySelector(".info_page").style.height=document.querySelector(".main_page").clientHeight+"px",document.querySelector(".info_page").classList.add("info_page--infoAnim"),document.querySelector("nav").classList.add("nav--out"),setTimeout((function(){document.querySelector(".main_page--hook_info").style.pointerEvents="auto"}),700)}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",null,s.a.createElement("div",{className:"info_page"},s.a.createElement("div",{className:"info"},s.a.createElement("div",{className:"main_page--hook_info",onMouseOver:this.mainPage},"Main_Page"),s.a.createElement("h1",{className:"display-4"},"Info (W.I.P.)")))))}}]),a}(s.a.Component),We=Object(E.b)(d,b)(He),Xe=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{className:"header__page"},s.a.createElement("header",null,s.a.createElement("h1",{className:"display-4"},"Welcome to ",s.a.createElement("strong",null,"Score Gym"),"(build 0.79)"))))}}]),a}(s.a.Component),Je=a(105),Ye=a(106),$e=a(102),Ze=a(103),et=[],tt=[{half:1.3333333333333333,quarter:.6666666666666666,eighth:.3333333333333333,sixteenth:.16666666666666666,thirty:.08333333333333333},{quarter:.8,eighth:.4,sixteenth:.2,thirty:.1}],at=0,nt=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).state={bars:[],barsQuant:8,measure:"four_quarters",pauseValue:10,easyOBProb:20,tripletValue:90,groupRest:!0,bpm:70,fixingBeatProb:70,easyGrouping:95,linkIns:!0,linkOut:50,lvl:2,simpleK:50,dotsK:-.1,groupK:60,maxK:60,beat:!0,beatNumb:!0,beamNum:1,receivedVal:[],showBeat:!1,noteValues:{whole:5,half:11,quarter:15,eighth:35,sixteenth:36,thirtySecond:0},dottedValues:{whole:-.1,half:5,quarter:10,eighth:30,sixteenth:0,thirtySecond:0},groupingValues:{whole:-.1,half:3,quarter:10,eighth:12},simValIns:{whole:-.1,half:5,quarter:15,eighth:20,sixteenth:25,thirtySecond:0},quintepletMap:{whole:-.1,half:5,quarter:15,eighth:0},maxSimple:5,maxDotted:4,maxTuplet:4,maxValsInTuplet:5,maxQuintepletProb:3,metronomeSwitch:!1,mistakes:null,beatReadN:null,mode:null},n.tick01=s.a.createRef(),n.tick02=s.a.createRef(),n.note01=s.a.createRef(),n.new=s.a.createRef(),n.beatShow=s.a.createRef(),n.num=s.a.createRef(),n.clearScores=s.a.createRef(),n.beginner=n.beginner.bind(Object(u.a)(n)),n.intermediate=n.intermediate.bind(Object(u.a)(n)),n.expert=n.expert.bind(Object(u.a)(n)),n.nextGen=n.nextGen.bind(Object(u.a)(n)),n.beat=n.beat.bind(Object(u.a)(n)),n.beatNumb=n.beatNumb.bind(Object(u.a)(n)),n.beatReading=n.beatReading.bind(Object(u.a)(n)),n.beatReadingFunc=n.beatReadingFunc.bind(Object(u.a)(n)),n.stop=n.stop.bind(Object(u.a)(n)),n.beatInput=n.beatInput.bind(Object(u.a)(n)),n.beatInputFunc=n.beatInputFunc.bind(Object(u.a)(n)),n.beatInputListener=n.beatInputListener.bind(Object(u.a)(n)),n.settings=n.settings.bind(Object(u.a)(n)),n.info=n.info.bind(Object(u.a)(n)),n.scrollHUD=n.scrollHUD.bind(Object(u.a)(n)),n.clearBars=n.clearBars.bind(Object(u.a)(n)),n}return Object(c.a)(a,[{key:"beginner",value:function(){var e=this;this.setState({barsQuant:4,measure:"four_quarters",pauseValue:5,easyOBProb:50,bpm:50,linkIns:!0,linkOut:0,lvl:0,beamNum:1,groupRest:!1,settings:!1,noteValues:{whole:10,half:15,quarter:44,eighth:56,sixteenth:0,thirtySecond:0},mode:1,dotsK:-.1,groupK:-.1,maxK:100}),setTimeout((function(){return e.props.updateState(e.state)}),50),setTimeout((function(){return be(e.state)}),50)}},{key:"intermediate",value:function(){var e=this;this.setState({barsQuant:8,measure:"four_quarters",pauseValue:10,easyOBProb:35,bpm:60,linkIns:!0,linkOut:50,lvl:1,beamNum:1,groupRest:!0,settings:!1,noteValues:{whole:5,half:11,quarter:44,eighth:56,sixteenth:64,thirtySecond:0},dottedValues:{whole:-.1,half:5,quarter:10,eighth:30,sixteenth:0,thirtySecond:0},simpleK:75,dotsK:95,groupK:-.1,mode:2,maxK:95}),setTimeout((function(){return e.props.updateState(e.state)}),50),setTimeout((function(){return be(e.state)}),50)}},{key:"expert",value:function(){var e=this;this.setState({barsQuant:16,measure:"four_quarters",pauseValue:10,easyOBProb:17,bpm:70,linkIns:!1,linkOut:70,lvl:2,beamNum:1,groupRest:!0,settings:!1,noteValues:{whole:5,half:11,quarter:20,eighth:56,sixteenth:64,thirtySecond:0},dottedValues:{whole:-.1,half:5,quarter:10,eighth:30,sixteenth:0,thirtySecond:0},groupingValues:{whole:-.1,half:3,quarter:10,eighth:12},quintepletMap:{whole:-.1,half:5,quarter:15,eighth:0},easyGrouping:95,tripletValue:90,simpleK:75,dotsK:80,groupK:100,mode:3,maxK:100}),setTimeout((function(){return e.props.updateState(e.state)}),50),setTimeout((function(){return be(e.state)}),50)}},{key:"settings",value:function(){document.querySelector(".settings--hook").style.pointerEvents="none",this.props.updateState({settings:!this.props.state.settings}),this.state.metronomeSwitch&&setTimeout(this.stop,300)}},{key:"info",value:function(){document.querySelector(".info--hook").style.pointerEvents="none",this.props.updateState({info:!this.props.state.info}),this.state.metronomeSwitch&&setTimeout(this.stop,300)}},{key:"nextGen",value:function(){var e=this;this.new.current.blur(),this.clearBars(),console.clear(),Ve=0;var t,a=[],n=Ee();switch(this.setState({bars:n.bars,maxSimple:n.maxSimple,maxDotted:n.maxDotted,maxTuplet:n.maxTuplet,maxValsInTuplet:n.maxValsInTuplet,maxQuintepletProb:n.maxQuintepletProb}),setTimeout((function(){e.state.bars.forEach((function(e){e.forEach((function(e){if(/triplet/.test(e[0])?t=0:/quinteplet/.test(e[0])&&(t=1),!/triplet|quinteplet/.test(e[0])&&Array.isArray(e))if(Array.isArray(e[0]))for(var n in e)a.push([e[n][0],tt[t][e[n][0].match(/[a-z]+/).join("")]]);else a.push([e[0],e[1]])}))})),e.setState({receivedVal:a}),qe=1e3/(e.props.state.bpm/60)*[].concat(a).sort((function(e,t){return e[1]-t[1]}))[0][1],1.5*e.props.state.inputLag<=qe&&(qe=e.props.state.inputLag),console.log(qe)}),50),this.state.mode){case 1:this.setState({beat:!0,beatNumb:!0});break;case 2:this.setState({beat:!0,beatNumb:!1});break;case 3:this.setState({beat:!1,beatNumb:!1});break;default:return}}},{key:"beat",value:function(){this.beatShow.current.blur(),this.setState({beat:!this.state.beat})}},{key:"beatNumb",value:function(){this.num.current.blur(),this.setState({beatNumb:!this.state.beatNumb})}},{key:"beatReading",value:function(e){var t=this;this.setState({metronomeSwitch:!0,mistakes:null}),_e=0,xe=[],we=!1,ke=0,Ne=0,Se=0;var a=0;for(var n in ye)ye[n].classList.remove("value--animation","value--animation--mistake");if(this.tick01.current.volume=.3,this.tick02.current.volume=.2,Ve=w[this.props.state.measure]/(this.props.state.bpm/60)*1e3,this.tick01.current.play(),a+=Ve/w[this.props.state.measure],e.target&&"metronome"===e.target.id)for(xe.push(setInterval((function(){t.tick01.current.play()}),Ve));a<Ve;)xe.push(setTimeout((function(){t.tick02.current.play(),xe.push(setInterval((function(){return t.tick02.current.play()}),Ve))}),a)),a+=Ve/w[this.props.state.measure];else{if((ye=Array.from(document.querySelectorAll(".value"))).shift(),"input"===e){for(xe.push(setInterval((function(){t.tick01.current.play()}),Ve));a<Ve;)xe.push(setTimeout((function(){t.tick02.current.play(),xe.push(setInterval((function(){return t.tick02.current.play()}),Ve))}),a)),a+=Ve/w[this.props.state.measure];xe.push(setTimeout(this.stop,(this.props.state.barsQuant+1)*Ve-30))}else for(;a<Ve;)xe.push(setTimeout((function(){t.tick02.current.play()}),a)),a+=Ve/w[this.props.state.measure];"input"===e?xe.push(setTimeout(this.beatInputFunc,Ve-qe/1.5)):(xe.push(setTimeout(this.beatReadingFunc,Ve)),_e--)}}},{key:"beatReadingFunc",value:function(){var e=this;if(Ne>w[this.props.state.measure]-.1&&(Ne=0),Ne===w[this.props.state.measure]&&(Ne=0),ke||(ye[0].classList.toggle("value--animation"),/--rest/.test(ye[ke].className)||(et[0].play(),Se++),ve=setTimeout(this.beatReadingFunc,1e3*this.state.receivedVal[ke][1]/(this.props.state.bpm/60))),!Ne||!ke){var t=0,a=w[this.props.state.measure]/(this.props.state.bpm/60)*1e3;for(this.tick01.current.play(),t+=a/w[this.props.state.measure];t<a;)xe.push(setTimeout((function(){e.tick02.current.play()}),t)),t+=a/w[this.props.state.measure];if(!ke)return Ne+=this.state.receivedVal[ke][1],void ke++}ke<ye.length-1?ve=setTimeout(this.beatReadingFunc,1e3*this.state.receivedVal[ke][1]/(this.props.state.bpm/60)):setTimeout(this.stop,1e3*this.state.receivedVal[ke][1]/(this.props.state.bpm/60)),ye[ke].classList.toggle("value--animation"),/--rest/.test(ye[ke].className)||ke&&/^[\d]/.test(this.state.receivedVal[ke-1][0])||et[Se].play(),Ne+=this.state.receivedVal[ke][1],ke++,++Se===et.length-1&&(Se=0)}},{key:"beatInput",value:function(){0,this.props.updateState({metronomeSwitch:!0}),document.addEventListener("keydown",this.beatInputListener),this.beatReading("input")}},{key:"beatInputListener",value:function(){!we||/--rest/.test(ye[ke].className)||0!==ke&&/^[\d]/.test(this.state.receivedVal[ke-1][0])?(!we||we&&(/--rest/.test(ye[ke].className)||0===ke||/^[\d]/.test(this.state.receivedVal[ke-1][0])))&&(!we&&we&&ke||ye[ke].classList.contains("value--animation")||ye[ke].classList.contains("value--animation--mistake")?ke+1<=ye.length-1&&ye[ke+1].classList.add("value--animation--mistake"):ye[ke].classList.add("value--animation--mistake"),_e++,we=!1):(ye[ke].classList.toggle("value--animation"),we=!1)}},{key:"beatInputFunc",value:function(){var e=this;ye[ke].classList.contains("value--animation--mistake")||(we=!0),xe.push(setTimeout((function(){!we||/--rest/.test(ye[ke].className)||0!==ke&&/^[\d]/.test(e.state.receivedVal[ke-1][0])||(_e++,ye[ke].classList.add("value--animation--mistake")),ke+1<=ye.length-1&&ke++,we=!1}),qe)),ke<=ye.length-1&&(ve=setTimeout(this.beatInputFunc,1e3/(this.props.state.bpm/60)*this.state.receivedVal[ke][1]))}},{key:"stop",value:function(e){for(var t in this.props.state.info||this.props.state.settings||e||this.setState({mistakes:_e}),document.removeEventListener("keydown",this.beatInputListener),this.setState({metronomeSwitch:!1}),xe)clearTimeout(xe[t]),clearInterval(xe[t]);clearTimeout(ve)}},{key:"scrollHUD",value:function(){document.addEventListener("scroll",(function(){var e=document.querySelector(".main_page").offsetTop;window.scrollY>e/4?document.querySelector("nav").classList.add("nav--sticky"):document.querySelector("nav").classList.remove("nav--sticky")}))}},{key:"clearBars",value:function(){if(!at)for(var e in ye)ye[e].classList.remove("value--animation","value--animation--mistake");this.state.mistakes&&this.setState({mistakes:null}),at++,setTimeout((function(){return at=0}),200),2===at&&this.setState({bars:[]}),this.clearScores.current.blur()}},{key:"componentDidMount",value:function(){be(this.props.state);for(var e=0;e<20;e++){var t=this.note01.current;t.volume=.2,et.push(t);var a=t.cloneNode(!0);a.volume=.2,et.push(a)}this.scrollHUD()}},{key:"render",value:function(){var e=this,t=this.state.bars;return s.a.createElement("div",null,s.a.createElement("div",{style:{overflow:"hidden"}},s.a.createElement(Xe,null),s.a.createElement("div",{style:{position:"relative"}},this.props.state.info?s.a.createElement(We,null):null,this.props.state.settings?s.a.createElement(Ue,null):null),s.a.createElement("nav",null,s.a.createElement("div",{className:"nav--hook--inv nav--hook--inv--anim"}),s.a.createElement("div",{className:"nav--hook"}),s.a.createElement("div",{className:"button__holder"},s.a.createElement("div",{className:"btn-group m-1 mr-3 ml-4"},s.a.createElement("button",{className:"btn btn-dark",onClick:this.nextGen,disabled:this.state.metronomeSwitch,ref:this.new},s.a.createElement("span",{id:"new"},"New")),this.props.state.tips?s.a.createElement(Ge.a,{target:"new",placement:"top"},"Generate new bars"):null,s.a.createElement(Je.a,{direction:"top"},s.a.createElement(Ye.a,{caret:!0,className:"btn-dark",id:"presets",disabled:this.state.metronomeSwitch}),s.a.createElement($e.a,{style:{top:"-65px"}},s.a.createElement(Ze.a,{onClick:this.beginner},s.a.createElement("button",{disabled:1===this.props.state.mode||this.state.metronomeSwitch,className:"btn btn-dark"},s.a.createElement("span",{id:"beginner"},"Beginner")),this.props.state.tips?s.a.createElement(Ge.a,{target:"beginner",placement:"top"},"Only simple values"):null),s.a.createElement(Ze.a,{onClick:this.intermediate},s.a.createElement("button",{disabled:2===this.props.state.mode||this.state.metronomeSwitch,className:"btn btn-dark"},s.a.createElement("span",{id:"intermediate"},"Intermediate")),this.props.state.tips?s.a.createElement(Ge.a,{target:"intermediate",placement:"top"},"+ dotted values"):null),s.a.createElement(Ze.a,{onClick:this.expert},s.a.createElement("button",{disabled:3===this.props.state.mode||this.state.metronomeSwitch,className:"btn btn-dark"},s.a.createElement("span",{id:"expert"},"Expert")),this.props.state.tips?s.a.createElement(Ge.a,{target:"expert",placement:"top"},"+ triplets and quinteplets"):null))),this.props.state.tips?s.a.createElement(Ge.a,{target:"presets",placement:"top"},"Presets"):null,s.a.createElement("button",{disabled:!this.state.bars.length||this.state.metronomeSwitch,className:"btn btn-dark",onClick:this.clearBars,ref:this.clearScores},s.a.createElement("span",{id:"clearScores"},"Clear")),this.props.state.tips?s.a.createElement(Ge.a,{target:"clearScores",placement:"top"},"1 click: clear mistakes,",s.a.createElement("br",null)," 2 cliks: clear scores"):null),s.a.createElement("button",{className:"btn btn-dark mr-4 ml-3",onClick:this.beatReading,disabled:this.state.metronomeSwitch},s.a.createElement("span",{id:"metronome"},"Metronome")),this.props.state.tips?s.a.createElement(Ge.a,{target:"metronome",placement:"top"},"Switch on metronome"):null,s.a.createElement("br",null),s.a.createElement("div",{className:"btn-group ml-1 mr-4"},s.a.createElement("button",{className:"btn btn-dark",disabled:!this.state.bars.length,onClick:this.beat,ref:this.beatShow},s.a.createElement("span",{id:"beat"},"Beat")),this.props.state.tips?s.a.createElement(Ge.a,{target:"beat",placement:"top"},"Show the position of beat"):null,s.a.createElement("button",{className:"btn btn-dark",disabled:!this.state.beat||!this.state.bars.length,onClick:this.beatNumb,ref:this.num},s.a.createElement("span",{id:"num"},"Num")),this.props.state.tips?s.a.createElement(Ge.a,{target:"num",placement:"top"},"Show the number of the beat"):null),s.a.createElement("div",{className:"btn-group mr-1"},s.a.createElement("button",{className:"btn btn-dark",onClick:this.beatReading,disabled:this.state.bars.length<1||this.state.metronomeSwitch},s.a.createElement("span",{id:"reading"},"Reading")),this.props.state.tips?s.a.createElement(Ge.a,{target:"reading",placement:"top"},"Listen to the rhytm"):null,s.a.createElement("button",{className:"btn btn-dark",onClick:this.stop,disabled:!this.state.metronomeSwitch},s.a.createElement("span",{id:"stop"},"Stop")),this.props.state.tips?s.a.createElement(Ge.a,{target:"stop",placement:"top"},"Stop metronome"):null,s.a.createElement("button",{className:"btn btn-dark",onClick:this.beatInput,disabled:this.state.bars.length<1||this.state.metronomeSwitch},s.a.createElement("span",{id:"practice"},"Practice")),this.props.state.tips?s.a.createElement(Ge.a,{target:"practice",placement:"top"},"Play note values with your keyboard (any key)"):null))),s.a.createElement("div",{className:"main_page"},s.a.createElement("div",null,s.a.createElement("audio",{ref:this.tick01},s.a.createElement("source",{src:f.a,type:"audio/mpeg"})),s.a.createElement("audio",{ref:this.tick02},s.a.createElement("source",{src:y.a,type:"audio/mpeg"})),s.a.createElement("audio",{ref:this.note01},s.a.createElement("source",{src:S.a,type:"audio/mpeg"}))),s.a.createElement("div",{className:"settings--hook",onMouseOver:this.settings},"Settings"),s.a.createElement("div",{className:"info--hook",onMouseOver:this.info},"Info"),s.a.createElement("div",{className:"score_body"},s.a.createElement("div",{className:"score"},t.map((function(a,n){var r=0,l=0;return s.a.createElement("div",{className:t.length-1===n?"bar bar_last":0===n?"bar bar_first":"bar",key:String(n)},s.a.createElement("div",{className:"bar__inside"},a.map((function(t,i){if(i+1<=a.length-1&&Array.isArray(a[i+1][0]))return r+=t[1],s.a.createElement("div",{style:{position:"relative",height:"118px"},key:String(n)+"_"+i},s.a.createElement("span",{className:"tuplet__num"},/triplet/.test(t[0])?3:5),(0===i&&Array.isArray(t)||1===i&&r===t[1]||Number.isInteger(r-t[1])||i===a.length-1&&t[1]===e.state.beamNum)&&l<w[e.props.state.measure]?s.a.createElement("div",{key:r+t[0],className:"beat",style:e.state.beat?/rest|whole/.test(t[0])?{opacity:"100%",top:"100%",left:"5px"}:/--end/.test(t[0])?{opacity:"100%",left:"10px"}:{opacity:"100%"}:{opacity:"0%"}},s.a.createElement("div",{style:e.state.beatNumb?{opacity:"1"}:{opacity:"0"}},r-t[1]+1),s.a.createElement("span",{style:{display:"none"}},l++)):null,s.a.createElement("div",{className:/triplet/.test(t[0])?"triplet":"quinteplet"},a[i+1].map((function(e,t){return t?t===a[i+1].length-1?s.a.createElement("div",{className:"value "+e[0],style:{marginRight:"0"},key:e[0]+String(n)+t}):s.a.createElement("div",{className:"value "+e[0],key:e[0]+String(n)+t}):s.a.createElement("div",{className:"value "+e[0],style:{marginLeft:"0"},key:e[0]+String(n)+t})}))));if(!Array.isArray(t[0])){var c,u=null;if(Array.isArray(t)&&("0"===t[0][0]||"1"===t[0][0])){var o=t[0].split("");u=Number(o.slice(0,1)),t[0]=o.join("")}if(Array.isArray(t)){var m=t[0].split("");m.reverse(),c=m.slice(0,3).join(""),r+=t[1]}return s.a.createElement("div",{className:Array.isArray(t)?"value "+t[0].match(/\D+[\d]*.+/).join(""):"value  "+e.props.state.measure,key:n+i+t[0]},s.a.createElement(st,{link:u,ch:c,ind:i,bars:e.state.bars}),(0===i&&Array.isArray(t)||1===i&&r===t[1]||Number.isInteger(r-t[1])||i===a.length-1&&t[1]===e.state.beamNum)&&l<w[e.props.state.measure]?s.a.createElement("div",{key:r+t[0],className:"beat",style:e.state.beat?/rest|whole/.test(t[0])?{opacity:"100%",top:"100%",left:"5px"}:/--end/.test(t[0])?{opacity:"100%",left:"10px"}:{opacity:"100%"}:{opacity:"0%"}},s.a.createElement("div",{style:e.state.beatNumb?{opacity:"1"}:{opacity:"0"}},r-t[1]+1),s.a.createElement("span",{style:{display:"none"}},l++)):null)}}))))}))),s.a.createElement("div",{className:"mistakes",style:{opacity:null!==this.state.mistakes&&_e>=0&&this.state.bars.length?"1":"0"}},"Mistakes: ",this.state.mistakes)))))}}]),a}(s.a.Component),st=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"shouldComponentUpdate",value:function(e){return this.props.bars!==e.bars}},{key:"render",value:function(){var e=null;return"dne"===this.props.ch&&0===this.props.link&&(e={left:"38px",width:"15px",top:"-21px",height:"40px"}),s.a.createElement("div",null,null!==this.props.link?s.a.createElement("div",{style:e,key:this.props.ch+this.props.ind,className:0===this.props.link?"linked_in":"linked_out"}):null)}}]),a}(s.a.Component),rt=Object(E.b)(d,b)(nt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var lt=a(24),it=Object(lt.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=Object(p.a)({},e);switch(t.type){case"UPDATE":var n=Object.keys(t.newState);for(var s in n)a.hasOwnProperty(n[s])&&(a[n[s]]=t.newState[n[s]]);return a;default:return e}}),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());l.a.render(s.a.createElement(E.a,{store:it},s.a.createElement(s.a.StrictMode,null,s.a.createElement(rt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[57,1,2]]]);
//# sourceMappingURL=main.4c8256c8.chunk.js.map