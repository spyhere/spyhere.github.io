{"version":3,"sources":["Sounds/metro_1.mp3","Sounds/metro_other.mp3","Sounds/clap01.mp3","redux/redux.js","notes.js","App.js","Settings/tabs.js","Settings/Settings.js","Info.js","Header.js","serviceWorker.js","index.js"],"names":["module","exports","stateInit","barsQuant","measure","pauseValue","easyOBProb","tripletValue","groupRest","bpm","easyGrouping","linkIns","linkOut","lvl","simpleK","dotsK","groupK","maxK","beat","beatNumb","beamNum","noteValues","whole","half","quarter","eighth","sixteenth","thirtySecond","dottedValues","groupingValues","simValIns","quintepletMap","maxSimple","maxDotted","maxTuplet","maxValsInTuplet","maxQuintepletProb","inputLag","metronomeSwitch","mistakes","mode","settings","info","tips","tab","mapStateToProps","state","mapDispatchToProps","dispatch","updateState","newState","type","values","concat","measureReassign","names4Beaming","bars","showBeat","fixingBeatProb","noteValuesNames","Object","keys","noteProbability","maxNoteValue","dottedValuesNames","dottedProbability","maxDottedValue","groupingValuesNames","groupingProbability","maxGroupingValue","probability","simValInsNames","simValInsProbability","maxSimValsIns","quintepletMapNames","quintepletMapProbability","ind","indInner","fill","lvlK","arrayOfProbability","updateData","n","push","reverse","generatingValues","bar","remained","valuesInd","Math","round","random","forEach","x","index","length","Number","isInteger","min","safeMin","linkOutPr","generatingIndex","indInnerInner","insideValue","checkOut","some","y","remainedIns","run","indIns","indForCheck","beaming","groupingOut","ceil","fillIns","groupingIns","barGroup","measureGroup","minGroupEasy","fillGroup","coefGroup","remainedGroup","minGroup","indInnerGroup","generatingGroupingValues","String","z","unshift","minimum","tuplet","minVal","maxVal","check","easyOnB","randomInd","beamFill","beamGr","beamGrNames","tup","gr","Array","isArray","test","a","splice","RegExp","match","join","reading","arr","beatReadN","rand","beatFill","metronome","inputOpen","wholeBar","SettingsTabs","connect","props","useState","activeTab","setActiveTab","toggle","className","Nav","tabs","NavItem","NavLink","classnames","active","onClick","TabContent","TabPane","tabId","Row","Col","md","Card","body","CardTitle","size","offset","Input","name","id","defaultValue","Label","defaultChecked","UncontrolledCollapse","toggler","disabled","SettingsCon","mainPage","bind","setTimeout","document","querySelector","classList","remove","add","style","pointerEvents","this","height","clientHeight","usedClass","onMouseOver","marginLeft","UncontrolledTooltip","target","placement","React","Component","Settings","InfoCon","Info","Header","soundArr","valInTup","thirty","doubleClick","Presentational","receivedVal","tick01","createRef","tick02","note01","new","beatShow","num","clearScores","beginner","intermediate","expert","nextGen","beatReading","beatReadingFunc","stop","beatInput","beatInputFunc","beatInputListener","scrollHUD","clearBars","setState","current","blur","console","clear","tupletState","sort","b","log","input","metronomeFill","volume","play","setInterval","from","querySelectorAll","shift","addEventListener","contains","event","removeEventListener","clearTimeout","clearInterval","elem","offsetTop","window","scrollY","i","sound","soundClone","cloneNode","overflow","position","ref","UncontrolledButtonDropdown","direction","DropdownToggle","caret","DropdownMenu","top","DropdownItem","src","map","count","key","opacity","left","display","indI","marginRight","ch","link","split","slice","Linked","nextState","st","width","App","Boolean","location","hostname","store","createStore","action","prevState","hasOwnProperty","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.4c8256c8.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/metro_1.14d657e7.mp3\";","module.exports = __webpack_public_path__ + \"static/media/metro_other.29b77406.mp3\";","module.exports = __webpack_public_path__ + \"static/media/clap01.3019756d.mp3\";","const UPDATE = \"UPDATE\";\r\n\r\nconst updateState = (newState) => {\r\n    return {type: UPDATE,\r\n    newState}\r\n}\r\n\r\nlet stateInit = {barsQuant: 8, measure: \"four_quarters\", pauseValue: 10, easyOBProb: 20, tripletValue: 90, groupRest: true, bpm: 70,\r\neasyGrouping: 95, linkIns: true, linkOut: 50, lvl: 2, simpleK: 50, dotsK: -0.1, groupK: 60, maxK: 60, beat: true, beatNumb: true, beamNum: 1,  \r\nnoteValues: {whole: 5, half: 11, quarter: 15, eighth: 35, sixteenth: 36, thirtySecond: 0},\r\ndottedValues: {whole: -0.1, half: 5, quarter: 10, eighth: 30, sixteenth: 0, thirtySecond: 0},\r\ngroupingValues: {whole: -0.1, half: 3, quarter: 10, eighth: 12},\r\nsimValIns: {whole: -0.1, half: 5, quarter: 15, eighth: 20, sixteenth: 25, thirtySecond: 0}, \r\nquintepletMap: {whole: -0.1, half: 5, quarter: 15, eighth: 0},\r\nmaxSimple: 5, maxDotted: 4, maxTuplet: 4, maxValsInTuplet: 5, maxQuintepletProb: 3,\r\ninputLag: 300, metronomeSwitch: false, mistakes: null, mode: null, settings: false, info: false, tips: true, tab: 0};\r\n\r\nexport const stateReducer = (state = stateInit, action) => {\r\n    let prevState = {...state};\r\n    switch (action.type) {\r\n        case UPDATE:\r\n            let keys = Object.keys(action.newState);\r\n            for (let n in keys) {\r\n                if (prevState.hasOwnProperty(keys[n])) {\r\n                    prevState[keys[n]] = action.newState[keys[n]];\r\n                }\r\n                \r\n            }\r\n            return prevState;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport const mapStateToProps = (state) => {\r\n    return {\r\n        state: state\r\n    }\r\n}\r\n\r\nexport const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        updateState: (newState) => {\r\n            dispatch(updateState(newState))\r\n        }\r\n    }    \r\n}","let valuesSimple = [[\"whole\", \"whole--rest\", 4],[\"half\", \"half--rest\", 2],[\"quarter\", \"quarter--rest\", 1],\r\n[\"eighth\", \"eighth--rest\", 0.5],[\"sixteenth\", \"sixteenth--rest\", 0.25],[\"thirty-second\", \"thirty-second--rest\", 0.125]];\r\nlet valuesDots = [[\"whole--dot\", \"whole--dot--rest\", 6],[\"half--dot\",\"half--dot--rest\",3],[\"quarter--dot\",\"quarter--dot--rest\",1.5],\r\n[\"eighth--dot\",\"eighth--dot--rest\",0.75],[\"sixteenth--dot\",\"sixteenth--dot--rest\",0.375],[\"thirty-second--dot\",\"thirty-second--dot--rest\",0.1875]];\r\nlet valuesGroupings = [[\"whole--triplet\",\"whole--quinteplet\", 4],[\"half--triplet\",\"half--quinteplet\", 2],[\"quarter--triplet\",\"quarter--quinteplet\",1],\r\n[\"eighth--triplet\",\"eighth--quinteplet\",0.5]];\r\n\r\nlet values = [valuesSimple].concat([valuesDots]);\r\nvalues = values.concat([valuesGroupings]); // THE WHOLE ARRAY OF NOTE VALUES\r\n\r\nexport let measureReassign = {     // GIVING MEASURE IN NUMBER EQUIVALENT\r\n    \"two_quarters\": 2,\r\n    \"three_quarters\": 3,\r\n    \"four_quarters\": 4,\r\n    \"five_quarters\": 5,\r\n    \"seven_quarters\": 7,\r\n    \"five_eights\": 2.5,\r\n    \"six_eights\": 3\r\n}\r\n\r\nlet names4Beaming = [/eighth|sixteenth|thirty-second/,/rest/]; // REGEX TO MAKE BEAMING\r\nlet beamNum = 1; // THE QUANTITY OF QUARTERS TO BEAM\r\n\r\n\r\nlet barsQuant = 4;  // CHOOSEN QUANTITY OF BARS\r\nlet bars = [];      // CHOOSEN NOTE VALUES\r\nlet measure = 4;    // MEASURE IN QUARTER EQUIVALENT\r\nlet pauseValue = 10; // POSSIBILITY OF PAUSE\r\nlet easyOBProb = 20; // PROBABILITY OF LONGER NOTE VALUE ON BEAT\r\nlet tripletValue = 90; // POSSIBILITY OF TRIPLET; 100 - tripletValue = POSSIBILITY OF QUINTEPLET\r\nlet easyGrouping = 100; // DIFFICULTY OF GROUPINGS IN TUPLETS\r\nlet linkIns = true; // ALLOWING GROPINGS WITH LINKS INSIDE THE BAR\r\nlet linkOut = 0; // PROBABILITY GROUPINGS WITH LINKS OUTSIDE THE BAR\r\nlet lvl = 0;        // LEVEL OF DIFFICULTY\r\nlet groupRest = true; // GROUPING REST\r\nlet showBeat = false; // NOT ALLOWING TO START THE GROUP BEFORE STRONG BEAT\r\nlet fixingBeatProb = 70; // PROBABILITY TO MOVE RHYTM TO STRONG OR WEAK BEAT \r\n\r\n// PROBABILITY OF SIMPLE VALUES****\r\nlet noteValues = {  // PROBABILITY \r\n    whole: 5,   //5\r\n    half: 11,   //11\r\n    quarter: 44,//44\r\n    eighth: 56, //56\r\n    sixteenth: 64, //64\r\n    thirtySecond: 0 //66\r\n}\r\nlet noteValuesNames = Object.keys(noteValues); \r\n\r\nlet noteProbability = []; // ARRAY WITH \"noteValuesNames\" + PERCENTAGE OF PROBABILITY\r\nlet maxNoteValue = null;  // MAXIMUM PERCENTAGE VALUE OF PROBABILITY OF \"noteValue\";\r\n\r\n// PROBABILITY OF SIMPLE VALUES****\r\n\r\n// PROBABILITY OF DOTTED VALUES****\r\nlet dottedValues = {\r\n    whole: -0.1,//0\r\n    half: -0.1,//0\r\n    quarter: 10,//10 \r\n    eighth: 30, //30    enable noteValues sixteenth\r\n    sixteenth: 0, //35  enable noteValues thirtySecond\r\n    thirtySecond: 0 //66\r\n}\r\nlet dottedValuesNames = Object.keys(dottedValues);\r\n\r\nlet dottedProbability = [];\r\nlet maxDottedValue = null;\r\n\r\n// PROBABILITY OF DOTTED VALUES****\r\n\r\n// PROBABILITY OF GROUPING VALUES****\r\nlet groupingValues = {\r\n    whole: -0.1,    //0\r\n    half: 3,        //3\r\n    quarter: 10,    //10  simValIns triplet=eights, quinteplet=sixteenth\r\n    eighth: 12     //12 \r\n}\r\nlet groupingValuesNames = Object.keys(groupingValues);\r\n\r\nlet groupingProbability = [];\r\nlet maxGroupingValue = null;\r\n\r\n// PROBABILITY OF GROUPING VALUES****\r\n\r\n// THE ARRAY OF PROBABILITIES\r\nlet probability = null; \r\n\r\n// PROBABILITY OF VALUES INSIDE THE TUPLET\r\nlet simValIns = {\r\n    whole: -0.1,\r\n    half: 5,\r\n    quarter: 15,\r\n    eighth: 20,\r\n    sixteenth: 25,\r\n    thirtySecond: 30\r\n}\r\n\r\nlet simValInsNames = Object.keys(simValIns);\r\n\r\nlet simValInsProbability = [];\r\nlet maxSimValsIns = null;\r\n\r\n// PROBABILITY OF VALUES INSIDE THE TUPLET\r\n\r\n// PROBABILITY OF QUINTEPLETS ON PARTICULAR NOTES\r\n\r\nlet quintepletMap = {\r\n    whole: -0.1,\r\n    half: 5,\r\n    quarter: 15,\r\n    eighth: 0\r\n}\r\n\r\nlet quintepletMapNames = Object.keys(quintepletMap);\r\n\r\nlet quintepletMapProbability = [];\r\nlet maxQuintepletMap = null;\r\n\r\n// PROBABILITY OF QUINTEPLETS ON PARTICULAR NOTES  \r\n\r\n\r\n\r\nlet ind = 0;        // INDEX OF ARRAY: SIMPLE, DOTS, GROUPINGS\r\nlet indInner = 0;   // INDEX INSIDE THE ARRAY\r\nlet fill = 0;       // FILLING OF THE BAR\r\n\r\n// DETERMINING THE PROBABILITY OF DIFFERENT NOTES VALUES\r\nlet simpleK = 75; // 75 \r\nlet dotsK = 95;   // 20 95\r\nlet groupK = 100;  // 5 100\r\nlet lvlK = null;  // MAXIMUM VALUE TO DETERMINE \"ind\"\r\nlet arrayOfProbability = [simpleK,dotsK,groupK];\r\n\r\n\r\n\r\n\r\nexport function updateData(state) {\r\n    beamNum = state.beamNum;\r\n    barsQuant = state.barsQuant;\r\n    measure = measureReassign[state.measure];\r\n    pauseValue = state.pauseValue;\r\n    easyOBProb = state.easyOBProb;\r\n    tripletValue = state.tripletValue;\r\n    easyGrouping = state.easyGrouping;\r\n    linkIns = state.linkIns;\r\n    linkOut = state.linkOut;\r\n    lvl = state.lvl;\r\n    simpleK = state.simpleK;\r\n    dotsK = state.dotsK;\r\n    groupK = state.groupK;\r\n    groupRest = state.groupRest;\r\n    showBeat = state.showBeat;\r\n    fixingBeatProb = state.fixingBeatProb;\r\n    //////////////////\r\n    noteValues = state.noteValues;\r\n    noteProbability = [];\r\n    maxNoteValue = null;\r\n\r\n    for (let n in noteValuesNames) {\r\n        if (noteValues[noteValuesNames[n]] !== 0) {\r\n            noteProbability.push([noteValuesNames[n]]);\r\n            noteProbability[n].push(noteValues[noteValuesNames[n]]);\r\n        }\r\n    }\r\n    maxNoteValue = noteProbability.reverse()[0][1];\r\n    noteProbability.reverse();\r\n    //\r\n    dottedValues = state.dottedValues;\r\n    dottedProbability = [];\r\n    maxDottedValue = null;\r\n\r\n    for (let n in dottedValuesNames) {\r\n        if (dottedValues[dottedValuesNames[n]] !== 0) {\r\n            dottedProbability.push([dottedValuesNames[n]]);\r\n            dottedProbability[n].push(dottedValues[dottedValuesNames[n]]);\r\n        }\r\n    }\r\n    maxDottedValue = dottedProbability.reverse()[0][1];\r\n    dottedProbability.reverse();\r\n    //\r\n    groupingValues = state.groupingValues;\r\n    groupingProbability = [];\r\n    maxGroupingValue = null;\r\n\r\n    for (let n in groupingValuesNames) {    \r\n        if (groupingValues[groupingValuesNames[n]] !== 0) {\r\n            groupingProbability.push([groupingValuesNames[n]]);\r\n            groupingProbability[n].push(groupingValues[groupingValuesNames[n]]);\r\n        }\r\n    }\r\n    maxGroupingValue = groupingProbability.reverse()[0][1];\r\n    groupingProbability.reverse();\r\n    //\r\n    simValIns = state.simValIns;\r\n    simValInsProbability = [];\r\n    maxSimValsIns = null;\r\n\r\n    for (let n in simValInsNames) {\r\n        if (simValIns[simValInsNames[n]] !== 0) {\r\n           simValInsProbability.push([simValInsNames[n]]);\r\n            simValInsProbability[n].push(simValIns[simValInsNames[n]]); \r\n        } \r\n    }\r\n    maxSimValsIns = simValInsProbability.reverse()[0][1];\r\n    simValInsProbability.reverse();\r\n    //\r\n    quintepletMap = state.quintepletMap;\r\n    quintepletMapProbability = [];\r\n    maxQuintepletMap = null;\r\n\r\n    for (let n in quintepletMapNames) {\r\n        if (quintepletMap[quintepletMapNames[n]] !== 0) {\r\n            quintepletMapProbability.push([quintepletMapNames[n]]);\r\n             quintepletMapProbability[n].push(quintepletMap[quintepletMapNames[n]])\r\n        }\r\n    }\r\n    maxQuintepletMap = quintepletMapProbability.reverse()[0][1];\r\n    quintepletMapProbability.reverse();\r\n    //////////////////\r\n    probability = [[noteProbability,maxNoteValue],[dottedProbability,maxDottedValue],\r\n    [groupingProbability,maxGroupingValue]];\r\n    arrayOfProbability = [simpleK,dotsK,groupK];\r\n    //\r\n    //  CHANGING THE LEVEL OF DIFFUCULTY\r\n    if (lvl === 0) {\r\n        lvlK = simpleK-1;\r\n        // linkOut = 0;\r\n    }\r\n    else if (lvl === 1) {\r\n        lvlK = dotsK-1;\r\n        // linkOut = 50;\r\n    } \r\n    else {\r\n        lvlK = 100;\r\n        // linkOut = 100;\r\n    }\r\n}\r\n\r\n// generatingValues();\r\n\r\n export function generatingValues() {\r\n    let bar = [];\r\n    bars = [];\r\n    while (bars.length < barsQuant) {\r\n        let remained = measure - fill;\r\n        let valuesInd = Math.round(Math.random()*(lvlK));\r\n        ind = null;\r\n        arrayOfProbability.forEach((x,index) => {\r\n            if ((valuesInd < x) && (!ind) && (ind!==0) && (remained >= values[index][probability[index][0].length-1][2])) {\r\n                ind = index;\r\n            }\r\n            else if (!ind && ind!==0 && index===probability.length-1) {\r\n                ind = 0;\r\n            }\r\n        })\r\n\r\n        // TUPLET NOT TO FALL ON WEAK BEAT\r\n        if (!Number.isInteger(fill) && (ind === 2) && (dotsK > simpleK) && (remained >= values[1][probability[1][0].length-1][2]) ) {\r\n            ind = 1\r\n        }\r\n        else if (!Number.isInteger(fill) && (ind === 2) && (dotsK < simpleK) ) {\r\n            ind = 0;\r\n        }\r\n            \r\n\r\n        let min = null;\r\n        let safeMin = null;\r\n\r\n        values[ind].forEach((x,index) => {\r\n            if (x[2] <= remained && !min && min!==0) {\r\n                min = index;\r\n                safeMin = index;\r\n                }\r\n            });\r\n\r\n        let linkOutPr = (measure - fill <= 1 && bars.length+1 < barsQuant && linkOut && ind !== 2) ? Math.round(Math.random()*100) : null;\r\n        if (linkOutPr < linkOut && linkOutPr) {\r\n            min = 1;\r\n        } \r\n    \r\n        // GENERATING NEW NOTE VALUE\r\n        generatingIndex(min,fill,ind)\r\n        \r\n        let indInnerInner = insideValue();\r\n\r\n        let checkOut = values[ind][indInner][2] - remained;\r\n        if (measure - fill <= 1 && !values[0].some((x) => x[2] === checkOut) && !values[1].some((y) => y[2] === checkOut) && \r\n        ind !== 2 && checkOut > 0) {\r\n            indInner = safeMin;\r\n        }\r\n       \r\n\r\n        // LINKS OUTSIDE THE BAR\r\n        if (fill + values[ind][indInner][2] > measure) {\r\n            [bar, bars, fill] = groupingOut(bar, bars, indInner, indInnerInner, fill);\r\n        }\r\n\r\n         // GROUPING WITH LINKS INSIDE THE BAR\r\n         else if (linkIns && !Number.isInteger(values[ind][indInner][2] + fill) \r\n         && !Number.isInteger(fill) && fill + values[ind][indInner][2] <= measure \r\n         && values[ind][indInner][2] + fill > Math.ceil(fill) && noteProbability.length < 6 && ind !== 2) {\r\n             [bar, fill] = groupingIns(ind, bar, indInner, indInnerInner, fill);\r\n         }\r\n\r\n        // NO LINKS\r\n        else {\r\n            bar.push([values[ind][indInner][indInnerInner], values[ind][indInner][2]]);\r\n            fill += values[ind][indInner][2];\r\n        }\r\n\r\n        \r\n        \r\n        // GENERATING NOTE VALUES FOR GROUPINGS\r\n        if (values[ind][0][0] === \"whole--triplet\") {\r\n            let barGroup = [];\r\n            generatingGroupingValues(ind,indInner,indInnerInner,barGroup);\r\n            bar.push(barGroup);\r\n        }\r\n\r\n        // FIXING THE BEAT\r\n        if (String(measure - fill).length > 3 && Math.random()*100 <= fixingBeatProb) {\r\n            values[0].forEach((z) => {\r\n                if ((z[2] + fill === Math.ceil(fill) || z[2] + fill === Math.ceil(fill) - beamNum / 2) && String(measure - fill).length > 3) {\r\n                    bar.push([z[0], z[2]]);\r\n                    fill += z[2];\r\n                }\r\n            })\r\n        }\r\n\r\n        // CLOSING THE BAR\r\n        if (fill === measure) {\r\n            let beamFill = 0;\r\n            let beamGr = 0;\r\n            let beamGrNames = [];  \r\n\r\n             // BEAMING EIGHTH, SIXTEENTH AND THIRTY-SECOND\r\n            bar = beaming(beamFill, beamGr, beamGrNames, bar);\r\n            // console.log(\"end\")\r\n            bars.push(bar);\r\n            bar = [];\r\n            fill = 0;\r\n        }\r\n    }\r\n    bars[0].unshift(measure);\r\n    // console.log(bars);\r\n    return {bars: bars, maxSimple: noteProbability.length, maxDotted: dottedProbability.length, maxTuplet: groupingProbability.length, maxValsInTuplet: simValInsProbability.length, maxQuintepletProb: quintepletMapProbability.length};\r\n}\r\n\r\n\r\nfunction generatingIndex(minimum,fill,ind,tuplet) {\r\n    let maxVal = (tuplet) ? maxSimValsIns : probability[ind][1];\r\n    indInner = 0;\r\n    let minVal;\r\n    let check = probability[ind][0];\r\n    if (minimum === 0) {\r\n        minVal = 0;\r\n        }\r\n    else if (!tuplet) {\r\n        minVal = Math.round(probability[ind][0][minimum-1][1]);   \r\n    }\r\n\r\n    if (Number.isInteger(fill) && (probability[ind][0].length > minimum+2) && !tuplet) {\r\n        let easyOnB = Math.round(Math.random()*100);\r\n        if (fill === 0 && easyOnB-30 < easyOBProb && probability[ind][0].length > minimum+3) {\r\n            maxVal = probability[ind][0][minimum+3][1];\r\n            }\r\n        else if (easyOnB < easyOBProb) {\r\n            maxVal = probability[ind][0][minimum+2][1];\r\n            }\r\n    }\r\n    \r\n    if(tuplet) {\r\n        minVal = (minimum === 0) ? 0 : simValInsProbability[minimum-1][1];\r\n        check = simValInsProbability;\r\n    }\r\n\r\n    let randomInd = Math.random()*(maxVal-minVal)+minVal;\r\n\r\n    for (let n in check) {\r\n        if (randomInd < check[n][1]) {\r\n            indInner = Number(n);\r\n            return indInner\r\n        }\r\n    }\r\n    return indInner = minimum;\r\n}\r\n\r\n// GENERATING NOTE OR REST, TRIPLET OR QUINTEPLET\r\nfunction insideValue() {\r\n    if (values[ind][0][0] === \"whole--triplet\") {\r\n        let coef = Math.round(Math.random()*100);\r\n        if (coef <= tripletValue || ind === 2 && (quintepletMapProbability.length <= indInner || quintepletMapProbability[indInner][1] < 0)) {\r\n            return 0;\r\n        }\r\n        return 1;\r\n    }\r\n    let coef = Math.round(Math.random()*100);\r\n    if (coef < pauseValue) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n    \r\n}\r\n\r\n// GROUPING OF TUPLETS\r\nfunction generatingGroupingValues(ind, indInner, indInnerInner, barGroup) {\r\n    let measureGroup; // MEASURE OF TUPLET IN QUARTER EQUIVALENT\r\n    if (!indInnerInner) {\r\n        measureGroup = (values[ind][indInner][2])/2*3;\r\n    }\r\n    else {\r\n        measureGroup = (values[ind][indInner][2])/4*5;\r\n    }\r\n    let minGroupEasy = null\r\n    let fillGroup = 0;\r\n    let coefGroup = Math.round(Math.random()*100)-1;\r\n    while (fillGroup < measureGroup) {\r\n        let remainedGroup = measureGroup - fillGroup;\r\n        let minGroup = null;\r\n        let indInnerGroup;\r\n        values[0].forEach((x,index) => {\r\n            if (x[2] <= remainedGroup && !minGroup && minGroup!==0) {\r\n                minGroup = index;\r\n                if (!minGroupEasy) {minGroupEasy = index}\r\n            }\r\n        });\r\n\r\n        if (coefGroup < easyGrouping) {\r\n            if (!indInnerInner) {\r\n                minGroup = minGroupEasy + 1;\r\n            }\r\n            else {\r\n                minGroup = minGroupEasy + 2;\r\n            }\r\n            indInnerGroup = minGroup;\r\n        }\r\n        else {\r\n            let tuplet = 1; // INVOKING SPECIAL ARRAY FOR THE INSIDE OF TUPLETS\r\n            indInnerGroup = generatingIndex(minGroup,fillGroup,0,tuplet);\r\n        }\r\n\r\n        barGroup.push([values[0][indInnerGroup][0], values[0][indInnerGroup][2]]);\r\n        fillGroup += values[0][indInnerGroup][2];\r\n    } \r\n    return barGroup;\r\n}\r\n\r\n// GROUPING WITH LINKS INSIDE THE BAR\r\nfunction groupingIns(ind, bar, indInner, indInnerInner, fill) {\r\n    let remainedIns = Math.ceil(fill) - fill;\r\n    let fillIns = 0;\r\n    let indIns = null\r\n    let run = 0;\r\n    while (remainedIns > 0) {\r\n        let indForCheck = (!run) ? 1 : 0;\r\n        values[indForCheck].forEach((x,index) => {\r\n            if (!indIns && indIns !== 0 && values[indForCheck][index][2] <= remainedIns) {\r\n                if((indForCheck && index < 4) || !indForCheck) {\r\n                    indIns = index;\r\n                    bar.push([((indInnerInner === 0) ?  \"0\" : '') + values[indForCheck][indIns][indInnerInner], values[indForCheck][indIns][2]]);\r\n                    remainedIns -= values[indForCheck][indIns][2];\r\n                    fill += values[indForCheck][indIns][2];\r\n                    fillIns += values[indForCheck][indIns][2];\r\n                }\r\n            }\r\n        });\r\n        run ++;\r\n    }\r\n    remainedIns = values[ind][indInner][2] - fillIns;\r\n    run = 0;\r\n    indIns = null;\r\n    while (remainedIns > 0) {\r\n        if (remainedIns > 1 || run > 1) {\r\n            values[0].forEach((x,index) => {\r\n                if (!indIns && indIns !== 0 && values[0][index][2] <= remainedIns) {\r\n                        indIns = index;\r\n                        bar.push([values[0][indIns][indInnerInner], values[0][indIns][2]]);\r\n                        remainedIns -= values[0][indIns][2];\r\n                        fill += values[0][indIns][2];\r\n                        indIns = null;\r\n                }\r\n            });\r\n        }\r\n        let indForCheck = (!run) ? 1 : 0;\r\n        values[indForCheck].forEach((x,index) => {\r\n            if (!indIns && indIns !== 0 && values[indForCheck][index][2] <= remainedIns) {\r\n                if((indForCheck && index < 4) || !indForCheck) {\r\n                    indIns = index;\r\n                    bar.push([values[indForCheck][indIns][indInnerInner], values[indForCheck][indIns][2]]);\r\n                    remainedIns -= values[indForCheck][indIns][2];\r\n                    fill += values[indForCheck][indIns][2];\r\n                    indIns = null;\r\n                }\r\n            }\r\n        });\r\n        run ++;\r\n    }\r\n\r\n    return [bar, fill];\r\n}\r\n\r\n// LINKS OUTSIDE THE BAR \r\nfunction groupingOut (bar, bars, indInner, indInnerInner, fill) {\r\n    let remainedIns = measure - fill;\r\n    let run = 0;\r\n            let indIns = null;\r\n            while (measure - fill) {\r\n                let indForCheck = (!run) ? 1 : 0;\r\n                values[indForCheck].forEach((x,index) => {\r\n                if (x[2] === remainedIns && !indIns && indIns!==0) {\r\n                    indIns = index;\r\n                    }\r\n                });\r\n                run++\r\n                if (indIns) {\r\n                    bar.push([((indInnerInner === 0) ?  \"1\" : '') + values[indForCheck][indIns][indInnerInner], values[indForCheck][indIns][2]]);\r\n\r\n                    let beamFill = 0;\r\n                    let beamGr = 0;\r\n                    let beamGrNames = []; \r\n                    bar = beaming(beamFill, beamGr, beamGrNames, bar);\r\n                    \r\n                    bars.push(bar);\r\n                    fill += values[indForCheck][indIns][2];\r\n                }\r\n            }\r\n            \r\n            bar = [];\r\n            fill = 0;\r\n            run = 0;\r\n            while (fill !== values[ind][indInner][2] - remainedIns) {\r\n                indIns = null;\r\n                let indForCheck = (!run) ? 1 : 0;\r\n                values[indForCheck].forEach((x,index) => {\r\n                    if (x[2] === values[ind][indInner][2] - remainedIns && !indIns && indIns!==0) {\r\n                        indIns = index;\r\n                        }\r\n                    });\r\n                run ++;\r\n                if (indIns) {\r\n                    bar.push([values[indForCheck][indIns][indInnerInner], values[indForCheck][indIns][2]]);\r\n                    fill += values[indForCheck][indIns][2];\r\n            }\r\n                \r\n            }\r\n            return [bar, bars, fill];\r\n}\r\n\r\n// BEAMING EIGHTH, SIXTEENTH AND THIRTY-SECOND\r\nfunction beaming(beamFill, beamGr, beamGrNames, bar, tup) {\r\n    let gr = 0;\r\n    bar.forEach((x, index) => {           \r\n        beamFill += x[1];\r\n        if (Array.isArray(x[0])) {\r\n            x = beaming(0, 0, [], x, true);\r\n            gr = 0;\r\n            beamGr = 0;\r\n            beamGrNames = [];\r\n            return;\r\n        }\r\n            if (names4Beaming[0].test(x[0]) && !names4Beaming[1].test(x[0])) { // DIVIDING EIGHTH+SIXTEENTH,THIRTY-SECOND BY BEAT\r\n                beamGr += x[1];\r\n                beamGrNames.push(x[0]);\r\n            }\r\n            else {\r\n                beamGr = 0;\r\n                beamGrNames = [];\r\n            }\r\n            if (beamGr > beamNum || beamGr === beamNum && !beamGrNames.some((y) => (/sixteenth|thirty-second/).test(y))) {\r\n                beamGr = 0;\r\n                beamGrNames = [];\r\n            }\r\n\r\n        if ((/rest/).test(x[0])) {      // GROUPING RESTS\r\n            let a = null;\r\n            if (index+1 <= bar.length-1 && (/rest/).test(bar[index+1][0]) && groupRest) {\r\n                \r\n                values.forEach((z) => z.forEach((y) => {\r\n                    if (y[2] === x[1]+bar[index+1][1] && !a) {\r\n                        // console.log(x[0])\r\n                        bar[index][0] = y[1];\r\n                        bar[index][1] = y[2];\r\n                        beamFill += bar[index+1][1];\r\n                        a = true;\r\n                        // console.log(x[0]);\r\n                        // console.log(\"end\");\r\n                    }\r\n                }))\r\n\r\n                if (a) {\r\n                    bar.splice(index+1,1);\r\n                }\r\n            }\r\n\r\n        }\r\n        else {\r\n            if (!names4Beaming[0].test(x[0])) {\r\n                return;\r\n            }\r\n            else if (names4Beaming[1].test(x[0])) {\r\n                return;\r\n            }\r\n            if (index+1 <= bar.length-1 && (names4Beaming[0].test(bar[index+1][0]) && !names4Beaming[1].test(bar[index+1][0])) && !(/triplet|quinteplet/).test(bar[index][0])) {\r\n\r\n\r\n\r\n                                // START OF THE GROUP\r\n                                if (beamGr === x[1] && beamFill !== measure/2 && (index === 0 || !(/--st|--gr/).test(bar[index-1][0]) || Array.isArray(bar[index-1][0])) &&\r\n                                 (index === 0 || !((/rest/).test(bar[index-1][0]) && Number.isInteger(beamFill) && showBeat)) && (index<=bar.length-1 && !(/triplet|quinteplet/).test(bar[index+1][0])) ) {\r\n\r\n                                    if ((/eighth/).test(x[0])) {                           \r\n                                        bar[index][0] = bar[index][0] + \"--st\";\r\n                                    }\r\n                                    else if ((new RegExp((x[0].match(/\\D/g)).join(\"\"))).test(bar[index+1][0]) || ((/sixteenth|thirty-second/).test(x[0]) && (/sixteenth|thirty-second/).test(bar[index+1][0])) ) {\r\n                                        bar[index][0] = bar[index][0] + \"--1--st\";\r\n                                    }\r\n                                    else {\r\n                                        bar[index][0] = bar[index][0] + \"--0--st\";\r\n                                    }\r\n                                    gr++;\r\n                                    \r\n                                }\r\n\r\n                                // MIDDLE SECTION\r\n                                else if (index>0 && (/--st|--gr/).test(bar[index-1][0]) && (beamFill !== measure/2 && beamGr !== beamNum || tup) && gr &&\r\n                                (index<=bar.length-1 && !(/triplet|quinteplet/).test(bar[index+1][0])) ) {                                 \r\n                                    if ((/eighth/).test(x[0])) {                           \r\n                                        bar[index][0] = bar[index][0] + \"--gr\";\r\n                                        }\r\n                                        else if (!(new RegExp((x[0].match(/\\D/g)).join(\"\"))).test(bar[index+1][0]) && \r\n                                        !(new RegExp((x[0].match(/\\D/g)).join(\"\"))).test(bar[index-1][0]) && !((/sixteenth|thirty-second/).test(x[0]) && (/sixteenth|thirty-second/).test(bar[index+1][0]))) {\r\n                                            bar[index][0] = bar[index][0] + \"--2--gr\";\r\n                                        }\r\n                                        else if ((new RegExp((x[0].match(/\\D/g)).join(\"\"))).test(bar[index+1][0]) || ((/sixteenth|thirty-second/).test(x[0]) && (/sixteenth|thirty-second/).test(bar[index+1][0]))) {\r\n                                            bar[index][0] = bar[index][0] + \"--1--gr\";\r\n                                        }\r\n                                        else {\r\n                                            bar[index][0] = bar[index][0] + \"--0--gr\";\r\n                                        } \r\n                                    gr ++;\r\n                                }   \r\n                                \r\n                                \r\n                            }\r\n\r\n                            // ENDING SECTION\r\n                            if (!(/--st|--gr/).test(x[0]) && index>0 && (/--st|--gr/).test(bar[index-1][0]) && gr &&\r\n(index === bar.length-1 || beamGr === beamNum || beamFill === measure/2 || !names4Beaming[0].test(bar[index+1][0]) || names4Beaming[1].test(bar[index+1][0]) || (/triplet|quinteplet/).test(bar[index+1][0])) ) {\r\n                                if ((/eighth/).test(x[0])) {                            \r\n                                    bar[index][0] = bar[index][0] + \"--end\";\r\n                                }\r\n                                else if ((new RegExp((x[0].match(/\\D/g)).join(\"\"))).test(bar[index-1][0])) {\r\n                                    bar[index][0] = bar[index][0] + \"--1--end\";\r\n                                }\r\n                                else {\r\n                                    bar[index][0] = bar[index][0] + \"--0--end\";\r\n                                }\r\n                                beamGr = 0;\r\n                                beamGrNames = [];\r\n                                gr = 0;\r\n                                \r\n                            }\r\n                        if (!(/--st|--gr|--end/).test(x[0])) {\r\n                            beamGr = 0;\r\n                            beamGrNames = [];\r\n                        }\r\n\r\n        }\r\n        \r\n    })\r\nreturn bar;\r\n}","import React from 'react';\nimport {mapStateToProps, mapDispatchToProps} from \"./redux/redux\";\nimport {connect} from \"react-redux\";\nimport tick01 from \"../src/Sounds/metro_1.mp3\";\nimport tick02 from \"../src/Sounds/metro_other.mp3\";\nimport note01 from \"../src/Sounds/clap01.mp3\";\nimport {updateData, generatingValues, measureReassign, values} from './notes';\nimport Settings from \"./Settings/Settings\";\nimport Info from \"./Info\";\nimport Header from \"./Header\";\nimport {UncontrolledTooltip, UncontrolledButtonDropdown, DropdownMenu, DropdownItem, DropdownToggle, UncontrolledDropdown} from \"reactstrap\";\nimport { $CombinedState } from 'redux';\n\n\nlet soundArr = [];\n\nlet valInTup = [{\n  half: 1.3333333333333333,\n  quarter: 0.6666666666666666,\n  eighth: 0.3333333333333333,\n  sixteenth: 0.16666666666666666,\n  thirty: 0.08333333333333333\n}, {\n  quarter: 0.8,\n  eighth: 0.4,\n  sixteenth: 0.2,\n  thirty: 0.1\n}];\n\n\n\nlet reading, arr, beatReadN, rand, beatFill, metronome, inputOpen, wholeBar, mistakes, inputLag, doubleClickTimer;\nlet soundInd = 0;\nlet doubleClick = 0;\n\n\nclass Presentational extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {bars: [], barsQuant: 8, measure: \"four_quarters\", pauseValue: 10, easyOBProb: 20, tripletValue: 90, groupRest: true, bpm: 70, fixingBeatProb: 70,\n    easyGrouping: 95, linkIns: true, linkOut: 50, lvl: 2, simpleK: 50, dotsK: -0.1, groupK: 60, maxK: 60, beat: true, beatNumb: true, beamNum: 1, receivedVal: [], showBeat: false,  \n    noteValues: {whole: 5, half: 11, quarter: 15, eighth: 35, sixteenth: 36, thirtySecond: 0},\n    dottedValues: {whole: -0.1, half: 5, quarter: 10, eighth: 30, sixteenth: 0, thirtySecond: 0},\n    groupingValues: {whole: -0.1, half: 3, quarter: 10, eighth: 12}, \n    simValIns: {whole: -0.1, half: 5, quarter: 15, eighth: 20, sixteenth: 25, thirtySecond: 0},\n    quintepletMap: {whole: -0.1, half: 5, quarter: 15, eighth: 0},\n    maxSimple: 5, maxDotted: 4, maxTuplet: 4, maxValsInTuplet: 5, maxQuintepletProb: 3,\n    metronomeSwitch: false, mistakes: null, beatReadN: null, mode: null};\n\n  this.tick01 = React.createRef();\n  this.tick02 = React.createRef();\n  this.note01 = React.createRef();\n  this.new = React.createRef();\n  this.beatShow = React.createRef();\n  this.num = React.createRef();\n  this.clearScores = React.createRef();\n\n\n  this.beginner = this.beginner.bind(this);\n  this.intermediate = this.intermediate.bind(this);\n  this.expert = this.expert.bind(this);\n  this.nextGen = this.nextGen.bind(this);\n  this.beat = this.beat.bind(this);\n  this.beatNumb = this.beatNumb.bind(this);\n  this.beatReading = this.beatReading.bind(this);\n  this.beatReadingFunc = this.beatReadingFunc.bind(this);\n  this.stop = this.stop.bind(this);\n  this.beatInput = this.beatInput.bind(this);\n  this.beatInputFunc = this.beatInputFunc.bind(this);\n  this.beatInputListener = this.beatInputListener.bind(this);\n  this.settings = this.settings.bind(this);\n  this.info = this.info.bind(this);\n  this.scrollHUD = this.scrollHUD.bind(this);\n  this.clearBars = this.clearBars.bind(this);\n  }\n\n  beginner() {\n    this.setState({ barsQuant: 4, measure: \"four_quarters\", pauseValue: 5, easyOBProb: 50, bpm: 50, linkIns: true, linkOut: 0, lvl: 0, \n    beamNum: 1, groupRest: false, settings: false,\n    noteValues: { whole: 10, half: 15, quarter: 44, eighth: 56, sixteenth: 0, thirtySecond: 0},\n    mode: 1, dotsK: -0.1, groupK: -0.1, maxK: 100});\n    \n    setTimeout(() => this.props.updateState(this.state), 50);\n    setTimeout(() => updateData(this.state), 50);\n  }\n\n  intermediate() {\n    this.setState({ barsQuant: 8, measure: \"four_quarters\", pauseValue: 10, easyOBProb: 35, bpm: 60, linkIns: true, linkOut: 50, lvl: 1,\n    beamNum: 1, groupRest: true, settings: false,\n    noteValues: { whole: 5, half: 11, quarter: 44, eighth: 56, sixteenth: 64, thirtySecond: 0},\n    dottedValues: { whole: -0.1, half: 5, quarter: 10, eighth: 30, sixteenth: 0, thirtySecond: 0},\n    simpleK: 75, dotsK: 95, groupK: -0.1, mode: 2, maxK: 95});\n\n    setTimeout(() => this.props.updateState(this.state), 50);\n    setTimeout(() => updateData(this.state), 50);\n  }\n\n  expert() {\n    this.setState({ barsQuant: 16, measure: \"four_quarters\", pauseValue: 10, easyOBProb: 17, bpm: 70, linkIns: false, linkOut: 70, lvl: 2,\n    beamNum: 1, groupRest: true, settings: false,\n    noteValues: { whole: 5, half: 11, quarter: 20, eighth: 56, sixteenth: 64, thirtySecond: 0},\n    dottedValues: { whole: -0.1, half: 5, quarter: 10, eighth: 30, sixteenth: 0, thirtySecond: 0},\n    groupingValues: { whole: -0.1, half: 3, quarter: 10, eighth: 12},\n    quintepletMap: { whole: -0.1, half: 5, quarter: 15, eighth: 0},\n    easyGrouping: 95, tripletValue: 90, simpleK: 75, dotsK: 80, groupK: 100, mode: 3, maxK: 100});\n\n    setTimeout(() => this.props.updateState(this.state), 50);\n    setTimeout(() => updateData(this.state), 50);\n  }\n\n  settings() {\n    document.querySelector(\".settings--hook\").style.pointerEvents = \"none\";\n    this.props.updateState({settings: !this.props.state.settings});\n    if (this.state.metronomeSwitch) {\n      setTimeout(this.stop, 300);\n    }\n  }\n\n  info() {\n    document.querySelector(\".info--hook\").style.pointerEvents = \"none\";\n    this.props.updateState({info: !this.props.state.info});\n    if (this.state.metronomeSwitch) {\n      setTimeout(this.stop, 300);\n    }\n  }\n\n  nextGen() {\n    this.new.current.blur()\n    this.clearBars();\n\n\n    console.clear();\n    wholeBar = 0;\n    let arr = [];\n    let tupletState;\n    let values = generatingValues();\n    this.setState({bars: values.bars, maxSimple: values.maxSimple, maxDotted: values.maxDotted, maxTuplet: values.maxTuplet, maxValsInTuplet: values.maxValsInTuplet, maxQuintepletProb: values.maxQuintepletProb});\n    setTimeout(() => {                              // RECORDING THE DURATION VALUES IN ARRAY\n      this.state.bars.forEach((x) => {\n      x.forEach((y) => {\n        if ((/triplet/).test(y[0])) {\n          tupletState = 0;\n        }\n        else if ((/quinteplet/).test(y[0])) {\n          tupletState = 1;\n        }\n\n        if (!(/triplet|quinteplet/).test(y[0]) && Array.isArray(y)) {\n          if (Array.isArray(y[0])) {\n            for (let n in y){\n              arr.push([y[n][0],valInTup[tupletState][y[n][0].match(/[a-z]+/).join(\"\")]])\n            }\n          }\n          else {\n            arr.push([y[0],y[1]])\n          }\n          \n        }\n      })\n    })\n\n    this.setState({receivedVal: arr})\n\n    // DETERMINING THE LOWEST ACCESSEBALE NOTE VALUE\n    inputLag = (1000 / (this.props.state.bpm / 60)) * [...arr].sort((a,b) => a[1] - b[1])[0][1];\n    if (this.props.state.inputLag * 1.5 <= inputLag) {\n      inputLag = this.props.state.inputLag;\n    }\n    console.log(inputLag)\n\n    // CLEARING STYLES ON NOTE VALUES\n    //   for (let n in arr) {\n    //   arr[n].classList.remove(\"value--animation\",  \"value--animation--mistake\")\n    // }\n    \n\n    }, 50);\n    switch (this.state.mode) {\n      case 1: this.setState({beat: true, beatNumb: true});\n      break;\n      case 2: this.setState({beat: true, beatNumb: false});\n      break;\n      case 3: this.setState({beat: false, beatNumb: false});\n      break;\n      default: return;\n    }\n\n\n  } \n\n  beat() {\n    this.beatShow.current.blur();\n    this.setState({beat: !this.state.beat})\n  }\n\n  beatNumb() {\n    this.num.current.blur();\n    this.setState({beatNumb: !this.state.beatNumb})\n  }\n\n  beatReading(input) {\n    this.setState({metronomeSwitch: true, mistakes: null});\n    mistakes = 0;\n    metronome = [];\n    inputOpen = false;\n    beatReadN = 0;\n    beatFill  = 0;\n    rand = 0;\n    let metronomeFill = 0;\n\n    \n    for (let n in arr) {\n      arr[n].classList.remove(\"value--animation\",  \"value--animation--mistake\")\n  }\n\n\n    this.tick01.current.volume = 0.3;\n    this.tick02.current.volume = 0.2;\n        \n    wholeBar = measureReassign[this.props.state.measure] / (this.props.state.bpm / 60) * 1000;\n\n    this.tick01.current.play();\n    metronomeFill += wholeBar / measureReassign[this.props.state.measure];\n\n    if (input.target && input.target.id === \"metronome\") {\n      metronome.push(setInterval(() => {\n        this.tick01.current.play();\n      }, wholeBar))\n      while (metronomeFill < wholeBar) {\n        metronome.push(setTimeout(() => {\n          this.tick02.current.play();\n          metronome.push(setInterval(() => this.tick02.current.play(), wholeBar)) \n        }, metronomeFill));\n        metronomeFill += wholeBar / measureReassign[this.props.state.measure];\n      }\n    } else {\n\n      arr = Array.from(document.querySelectorAll(\".value\"));\n        arr.shift();\n\n        \n        if (input === \"input\") {\n          metronome.push(setInterval(() => {\n            this.tick01.current.play();\n          }, wholeBar))\n          while (metronomeFill < wholeBar) {\n            metronome.push(setTimeout(() => {\n              this.tick02.current.play();\n              metronome.push(setInterval(() => this.tick02.current.play(), wholeBar)) \n            }, metronomeFill));\n            metronomeFill += wholeBar / measureReassign[this.props.state.measure];\n          }\n          metronome.push(setTimeout(this.stop, (this.props.state.barsQuant + 1) * wholeBar - 30) );\n        }\n        else {\n          while (metronomeFill < wholeBar) {\n                metronome.push(setTimeout(() => {\n                  this.tick02.current.play();\n                }, metronomeFill)); \n                metronomeFill += wholeBar / measureReassign[this.props.state.measure];\n              }\n        }\n        \n        if (input === \"input\") {\n          metronome.push(setTimeout(this.beatInputFunc, wholeBar - inputLag/1.5));\n        }\n        else {\n          metronome.push(setTimeout(this.beatReadingFunc, wholeBar));\n          mistakes --;\n        }\n\n    }\n\n  }\n\n  beatReadingFunc() {\n  if (beatFill > measureReassign[this.props.state.measure] - 0.1) {\n    beatFill = 0;\n  }\n    if (beatFill === measureReassign[this.props.state.measure]) {\n      beatFill = 0;\n    }\n\n    if (!beatReadN) {\n          arr[0].classList.toggle(\"value--animation\");\n          if (!(/--rest/).test(arr[beatReadN].className)) {\n            soundArr[0].play();\n            rand ++ \n          }\n          reading = setTimeout(this.beatReadingFunc, 1000 * this.state.receivedVal[beatReadN][1] / (this.props.state.bpm / 60));\n          \n        }\n    if (!beatFill || !beatReadN) {\n      let metronomeFill = 0;\n      let wholeBar = measureReassign[this.props.state.measure] / (this.props.state.bpm / 60) * 1000;\n\n      this.tick01.current.play();\n\n      metronomeFill += wholeBar / measureReassign[this.props.state.measure];\n      while (metronomeFill < wholeBar) {\n        metronome.push(setTimeout(() => {\n          this.tick02.current.play();\n        }, metronomeFill)); \n        metronomeFill += wholeBar / measureReassign[this.props.state.measure];\n    }\n    if (!beatReadN) {\n      beatFill += this.state.receivedVal[beatReadN][1];\n      beatReadN ++;\n      return;\n    }\n\n    }\n\n\n    if (beatReadN < arr.length-1) {\n      reading = setTimeout(this.beatReadingFunc, 1000 * this.state.receivedVal[beatReadN][1] / (this.props.state.bpm / 60));\n    }\n    else {\n      setTimeout(this.stop, 1000 * this.state.receivedVal[beatReadN][1] / (this.props.state.bpm / 60));\n    }\n    \n    arr[beatReadN].classList.toggle(\"value--animation\");\n\n    if (!(/--rest/).test(arr[beatReadN].className) && (!beatReadN || !(/^[\\d]/).test(this.state.receivedVal[beatReadN-1][0]))) {\n      soundArr[rand].play();\n    }\n    \n\n    beatFill += this.state.receivedVal[beatReadN][1];\n    beatReadN ++;\n    rand ++ \n    if (rand === soundArr.length-1) {\n      rand = 0;\n    }\n  }\n\n  beatInput() {\n    soundInd = 0;\n    this.props.updateState({metronomeSwitch: true});\n    document.addEventListener(\"keydown\", this.beatInputListener);\n    this.beatReading(\"input\");\n  }\n\n  beatInputListener() {\n    if (inputOpen && !(/--rest/).test(arr[beatReadN].className) && (beatReadN === 0 || !(/^[\\d]/).test(this.state.receivedVal[beatReadN-1][0]))) {\n      arr[beatReadN].classList.toggle(\"value--animation\");\n      // soundArr[soundInd].play()\n      // soundInd ++\n      inputOpen = false;\n      // if (soundInd === soundArr.length-1) {\n      //   soundInd = 0;\n      // }\n    }\n    else if (!inputOpen || inputOpen && ((/--rest/).test(arr[beatReadN].className) || (beatReadN === 0 || (/^[\\d]/).test(this.state.receivedVal[beatReadN-1][0])) )) {\n      if ((inputOpen || !inputOpen || !beatReadN) && !arr[beatReadN].classList.contains(\"value--animation\") && \n      !arr[beatReadN].classList.contains(\"value--animation--mistake\")) {\n        arr[beatReadN].classList.add(\"value--animation--mistake\");\n      } else if (beatReadN+1 <= arr.length-1) {\n        arr[beatReadN+1].classList.add(\"value--animation--mistake\");\n      }\n      mistakes ++;\n      inputOpen = false;\n    }\n  }\n  \n  beatInputFunc() {\n    if (!arr[beatReadN].classList.contains(\"value--animation--mistake\")) {\n      inputOpen = true;\n    }\n\n    metronome.push(setTimeout(() => {\n     if (inputOpen && (!(/--rest/).test(arr[beatReadN].className) && (beatReadN === 0 || !(/^[\\d]/).test(this.state.receivedVal[beatReadN-1][0]))) ) {\n      mistakes ++;\n      arr[beatReadN].classList.add(\"value--animation--mistake\");\n     }\n     if (beatReadN+1 <= arr.length-1) {\n       beatReadN ++;\n     }\n    inputOpen = false;\n\n    }, inputLag));\n\n    if (beatReadN <= arr.length-1) {\n      reading = setTimeout(this.beatInputFunc, (1000 / (this.props.state.bpm / 60)) * this.state.receivedVal[beatReadN][1]);\n    } \n  }\n  \n  stop(event) {\n    if (!this.props.state.info && !this.props.state.settings && !event) {\n      this.setState({mistakes: mistakes});\n    }\n    document.removeEventListener(\"keydown\", this.beatInputListener);\n    this.setState({metronomeSwitch: false})\n    for (let n in metronome) {\n      clearTimeout(metronome[n]);\n      clearInterval(metronome[n]);\n    }\n\n    clearTimeout(reading);\n  }\n\n  scrollHUD() {\n   document.addEventListener(\"scroll\", function() {\n      var elem = document.querySelector(\".main_page\").offsetTop;\n      var scroll = window.scrollY;\n      if (scroll > elem / 4) {\n        document.querySelector(\"nav\").classList.add(\"nav--sticky\");\n      } else {\n        document.querySelector(\"nav\").classList.remove(\"nav--sticky\");\n      }\n   })\n  }\n\n  clearBars() {\n  if (!doubleClick) {\n    for (let n in arr) {\n      arr[n].classList.remove(\"value--animation\",  \"value--animation--mistake\")\n    }\n  }\n  if (this.state.mistakes) {\n    this.setState({mistakes: null})\n  }\n    \n  doubleClick ++;\n  doubleClickTimer = setTimeout(() => doubleClick = 0, 200);\n  if (doubleClick === 2) {\n    this.setState({bars: []});\n  }\n    this.clearScores.current.blur();\n  }\n\n\n  // shouldComponentUpdate(newState) {\n    // if (JSON.stringify(this.state) !== JSON.stringify(this.props.state) || JSON.stringify(newState) !== JSON.stringify(this.state)) {\n    //   return true;\n    // }\n    // else {\n    //   return false;\n    // }\n  // }\n\n  componentDidMount() {\n    updateData(this.props.state);\n\n    for (let i = 0; i < 20; i ++) {\n      let sound = this.note01.current;\n      sound.volume = 0.2;\n      soundArr.push(sound);\n      let soundClone = sound.cloneNode(true);\n      soundClone.volume = 0.2;\n      soundArr.push(soundClone);\n    }\n\n    this.scrollHUD()\n    \n  } \n\n  render() {\n    let bars = this.state.bars;\n    return (\n      <div>\n        \n\n        <div style={{overflow: \"hidden\"}}>\n          <Header/>\n          <div style={{position: \"relative\"}}>\n            {this.props.state.info ? <Info/> : null}\n            {this.props.state.settings ? <Settings/> : null}\n          </div>\n        \n          <nav>\n                  <div className=\"nav--hook--inv nav--hook--inv--anim\"></div>\n                  <div className=\"nav--hook\"></div>\n                  <div className=\"button__holder\">\n                    <div className=\"btn-group m-1 mr-3 ml-4\">\n                      <button className=\"btn btn-dark\" onClick={this.nextGen} disabled={this.state.metronomeSwitch} ref={this.new}><span id=\"new\">New</span></button>\n                      {this.props.state.tips ? <UncontrolledTooltip target=\"new\" placement=\"top\">Generate new bars</UncontrolledTooltip> : null}\n\n                      <UncontrolledButtonDropdown direction=\"top\">\n                        <DropdownToggle caret className=\"btn-dark\" id=\"presets\" disabled={this.state.metronomeSwitch}>\n                          \n                        </DropdownToggle>\n                        <DropdownMenu style={{top: \"-65px\"}}>\n                          <DropdownItem onClick={this.beginner}>\n                            <button disabled={this.props.state.mode === 1 || this.state.metronomeSwitch} className=\"btn btn-dark\"><span id=\"beginner\">Beginner</span></button>\n                      {this.props.state.tips ? <UncontrolledTooltip target=\"beginner\" placement=\"top\">Only simple values</UncontrolledTooltip> : null}\n                          </DropdownItem>\n                          <DropdownItem onClick={this.intermediate}>\n                            <button disabled={this.props.state.mode === 2 || this.state.metronomeSwitch} className=\"btn btn-dark\"><span id=\"intermediate\">Intermediate</span></button>\n                      {this.props.state.tips ? <UncontrolledTooltip target=\"intermediate\" placement=\"top\">+ dotted values</UncontrolledTooltip> : null}\n                          </DropdownItem>\n                          <DropdownItem onClick={this.expert}>\n                            <button disabled={this.props.state.mode === 3 || this.state.metronomeSwitch} className=\"btn btn-dark\"><span id=\"expert\">Expert</span></button> \n                      {this.props.state.tips ? <UncontrolledTooltip target=\"expert\" placement=\"top\">+ triplets and quinteplets</UncontrolledTooltip> : null}\n                          </DropdownItem>\n                        </DropdownMenu>\n                      </UncontrolledButtonDropdown>\n                      {this.props.state.tips ? <UncontrolledTooltip target=\"presets\" placement=\"top\">Presets</UncontrolledTooltip> : null}\n\n                      <button disabled={!this.state.bars.length || this.state.metronomeSwitch} className=\"btn btn-dark\" onClick={this.clearBars} ref={this.clearScores} ><span id=\"clearScores\">Clear</span></button>\n                      {this.props.state.tips ? <UncontrolledTooltip target=\"clearScores\" placement=\"top\">1 click: clear mistakes,<br/> 2 cliks: clear scores</UncontrolledTooltip> : null}\n                    </div>\n\n                    <button className=\"btn btn-dark mr-4 ml-3\" onClick={this.beatReading} disabled={this.state.metronomeSwitch}><span id=\"metronome\">Metronome</span></button>\n                      {this.props.state.tips ? <UncontrolledTooltip target=\"metronome\" placement=\"top\">Switch on metronome</UncontrolledTooltip> : null}\n\n                    \n                    <br/>\n                    <div className=\"btn-group ml-1 mr-4\">\n                       <button className=\"btn btn-dark\" disabled={!this.state.bars.length} onClick={this.beat} ref={this.beatShow}><span id=\"beat\">Beat</span></button>\n                      {this.props.state.tips ? <UncontrolledTooltip target=\"beat\" placement=\"top\">Show the position of beat</UncontrolledTooltip> : null}\n\n                       <button className=\"btn btn-dark\" disabled={!this.state.beat || !this.state.bars.length} onClick={this.beatNumb} ref={this.num}><span id=\"num\">Num</span></button>\n                      {this.props.state.tips ? <UncontrolledTooltip target=\"num\" placement=\"top\">Show the number of the beat</UncontrolledTooltip> : null}\n                    </div>\n\n                    <div className=\"btn-group mr-1\">\n                      <button className=\"btn btn-dark\" onClick={this.beatReading} disabled={this.state.bars.length < 1 || this.state.metronomeSwitch}><span id=\"reading\">Reading</span></button>\n                      {this.props.state.tips ? <UncontrolledTooltip target=\"reading\" placement=\"top\">Listen to the rhytm</UncontrolledTooltip> : null}\n\n                       <button className=\"btn btn-dark\" onClick={this.stop} disabled={!this.state.metronomeSwitch}><span id=\"stop\">Stop</span></button>\n                      {this.props.state.tips ? <UncontrolledTooltip target=\"stop\" placement=\"top\">Stop metronome</UncontrolledTooltip> : null}\n\n                       <button className=\"btn btn-dark\" onClick={this.beatInput} disabled={this.state.bars.length < 1 || this.state.metronomeSwitch}><span id=\"practice\">Practice</span></button>\n                      {this.props.state.tips ? <UncontrolledTooltip target=\"practice\" placement=\"top\">Play note values with your keyboard (any key)</UncontrolledTooltip> : null}\n                    </div>\n                       \n                  \n                  </div>\n            </nav>\n\n        <div className=\"main_page\">\n            <div>\n            <audio ref={this.tick01}>\n          <source src={tick01} type=\"audio/mpeg\"></source>\n            </audio>\n            <audio ref={this.tick02}>\n              <source src={tick02} type=\"audio/mpeg\"/>\n            </audio>\n            <audio ref={this.note01}>\n              <source src={note01} type=\"audio/mpeg\"/>\n            </audio>\n            </div>\n            \n                \n                <div className=\"settings--hook\" onMouseOver={this.settings}>Settings</div>\n                <div className=\"info--hook\" onMouseOver={this.info}>Info</div>\n                \n\n            <div className=\"score_body\">\n              <div className=\"score\">\n              {bars.map((x, index) => {\n                let beat = 0;\n                let count = 0;\n                return <div className={(bars.length-1 === index) ? \"bar bar_last\" : ((index === 0) ? \"bar bar_first\" : \"bar\")} key={String(index)}>\n                  <div className=\"bar__inside\"> \n                  {x.map((y, ind) => {\n\n                    if (ind+1 <= x.length-1 && Array.isArray(x[ind+1][0])) {\n                      beat += y[1];\n                      return <div style={{position: \"relative\", height: \"118px\"}} key={String(index) + \"_\" + ind}>\n                        <span className=\"tuplet__num\">{(/triplet/).test(y[0]) ? 3 : 5}</span>\n                        {(( (ind === 0 && Array.isArray(y)) || (ind === 1 && beat === y[1]) || Number.isInteger(beat-y[1]) || (ind === x.length-1 && y[1] === this.state.beamNum) ) && count < measureReassign[this.props.state.measure] ? (<div key={beat+y[0]} className=\"beat\" style={this.state.beat ? ((/rest|whole/).test(y[0]) ? ({opacity: \"100%\", top:\"100%\", left:\"5px\"}) : ((/--end/).test(y[0]) ? ({opacity: \"100%\", left: \"10px\"}) : ({opacity: \"100%\"}))) : {opacity: \"0%\"}}><div style={this.state.beatNumb ? {opacity:\"1\"} : {opacity:\"0\"}}>{beat-y[1] + 1}</div><span style={{display: \"none\"}}>{count ++ }</span></div>) : null)}\n                        <div className={(/triplet/).test(y[0]) ? \"triplet\" : \"quinteplet\"}>\n                        {x[ind+1].map((z, indI) => {\n                          if (!indI) {\n                            return <div className={\"value \" + z[0]} style={{marginLeft: \"0\"}} key={z[0]+String(index) + indI}></div>\n                          }\n                          else if (indI === x[ind+1].length-1) {\n                            return <div className={\"value \" + z[0]} style={{marginRight: \"0\"}} key={z[0]+String(index) + indI}></div>\n                          }\n                          else {\n                            return <div className={\"value \" + z[0]} key={z[0]+String(index) + indI}></div>\n                          }\n                          \n                        })}\n                        </div>\n                        </div>\n                    }\n\n                    else if (Array.isArray(y[0])) {\n                      return;\n                    }\n\n                    else {\n                    let link = null;\n                  if (Array.isArray(y) && (y[0][0] === '0' || y[0][0] === '1')) { // DETERMINING WHERE IS THE LINK\n                    let elem = y[0].split(\"\");\n                    link = Number(elem.slice(0, 1));\n                    y[0] = elem.join(\"\");\n                  }\n                  let ch;\n                  if (Array.isArray(y)) {                    // CORRECTING THE POSITION OF THE LINK\n                    let elem = y[0].split(\"\");\n                    elem.reverse();\n                    ch = elem.slice(0, 3)\n                              .join(\"\");\n                    beat += y[1];\n                  }\n                    return <div className={Array.isArray(y) ? (\"value \" + y[0].match(/\\D+[\\d]*.+/).join(\"\")) : (\"value  \" + this.props.state.measure)} key={index+ind + y[0]}>\n                      <Linked link={link} ch={ch} ind={ind} bars={this.state.bars} />\n                      {(( (ind === 0 && Array.isArray(y)) ||( ind === 1 && beat === y[1]) || Number.isInteger(beat-y[1]) || (ind === x.length-1 && y[1] === this.state.beamNum) ) && count < measureReassign[this.props.state.measure] ? (<div key={beat+y[0]} className=\"beat\" style={this.state.beat ? ((/rest|whole/).test(y[0]) ? ({opacity: \"100%\", top:\"100%\", left:\"5px\"}) : ((/--end/).test(y[0]) ? ({opacity: \"100%\", left: \"10px\"}) : ({opacity: \"100%\"}))) : {opacity: \"0%\"}}><div style={this.state.beatNumb ? {opacity:\"1\"} : {opacity:\"0\"}}>{beat-y[1] + 1}</div><span style={{display: \"none\"}}>{count ++ }</span></div>) : null)}\n                      </div>\n                    }\n                })}\n                </div>\n                </div>\n                \n              })\n              }\n\n              </div>\n                <div className=\"mistakes\" style={{opacity: (this.state.mistakes !== null && mistakes >= 0 && this.state.bars.length) ? \"1\" : \"0\"}}>Mistakes: {this.state.mistakes}</div>\n              </div>\n          </div>\n          </div>\n      </div>\n    )\n  }\n}\n\nclass Linked extends React.Component {\nshouldComponentUpdate(nextState) {\n  if (this.props.bars !== nextState.bars) {\n    return true;\n  }\n  else {\n    return false;\n  }\n}\nrender () {\n  let st = null;\n  if (this.props.ch === \"dne\" && this.props.link === 0) {\n    st = {left: \"38px\", width: \"15px\",top: \"-21px\",height: \"40px\"}\n  }\n\n  return <div>{(this.props.link !== null) ? (<div style={st} key={this.props.ch+this.props.ind} className={(this.props.link===0) ? \"linked_in\" : \"linked_out\"}></div>) : null}</div>\n}\n}\n\nlet App = connect(mapStateToProps, mapDispatchToProps)(Presentational);\n\nexport default App;\n\n\n","import {mapStateToProps, mapDispatchToProps} from \"../redux/redux\";\r\nimport {connect} from \"react-redux\";\r\nimport React, { useState } from 'react';\r\nimport classnames from 'classnames';\r\nimport { TabContent, TabPane, Nav, NavItem, NavLink, Card, CardTitle, Row, Col, Label, Input, UncontrolledCollapse } from 'reactstrap';\r\n\r\nconst SettingsTabsCon = (props) => {\r\n    const [activeTab, setActiveTab] = useState(`${props.state.tab}`);\r\n\r\n    const toggle = tab => {\r\n      if(activeTab !== tab) setActiveTab(tab);\r\n    }\r\n\r\n    const tabFunc = () => {\r\n        toggle('1'); \r\n        props.updateState({tab: 1})\r\n\r\n    }\r\n        return(\r\n            <div>\r\n                <div className=\"settings__tabs\">\r\n                    <Nav tabs>\r\n                        <NavItem>\r\n                            <NavLink className={classnames({ active: activeTab === '1' })} onClick={() => { toggle('1'); props.updateState({tab: 1})}}>\r\n                                Score Settings\r\n                            </NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                            <NavLink className={classnames({ active: activeTab === '2' })} onClick={() => { toggle('2'); props.updateState({tab: 2})}}>\r\n                                Bar Settings\r\n                            </NavLink>\r\n                        </NavItem>\r\n                        <NavItem>\r\n                            <NavLink className={classnames({ active: activeTab === '3' })} onClick={() => { toggle('3'); props.updateState({tab: 3})}}>\r\n                                Values Probability\r\n                            </NavLink>\r\n                        </NavItem>\r\n                </Nav>\r\n\r\n                <TabContent activeTab={activeTab} className=\"settings__tabs__content\">\r\n                    <TabPane tabId=\"1\">\r\n                        <Row>\r\n                            <Col md=\"4\">\r\n                                <Card body>\r\n                                    <CardTitle>Measure</CardTitle>\r\n                                    <Row>\r\n                                        <Col md=\"4\">\r\n                                             <p>2/4</p>\r\n                                        </Col>\r\n                                        <Col md=\"4\">\r\n                                            <p>3/4</p>\r\n                                        </Col>\r\n                                        <Col md=\"4\">\r\n                                            <p>4/4</p>\r\n                                        </Col>\r\n                                    </Row>\r\n                                    <Row>\r\n                                        <Col md=\"4\">\r\n                                             <p>5/4</p>\r\n                                        </Col>\r\n                                        <Col md=\"4\">\r\n                                            <p>7/4</p>\r\n                                        </Col>\r\n                                        <Col md=\"4\">\r\n                                            <p>5/8</p>\r\n                                        </Col>\r\n                                    </Row>\r\n                                   <Row>\r\n                                       <Col md={{size: \"4\", offset: \"4\"}}>\r\n                                           <p>6/8</p>\r\n                                       </Col>\r\n                                   </Row>\r\n                                \r\n                                    \r\n                                </Card>\r\n                            </Col>\r\n                            <Col md=\"3\">\r\n                                <Card body>\r\n                                    <CardTitle>Bar quantity</CardTitle>\r\n                                        <Row>\r\n                                            <Col md=\"4\">\r\n                                                <p>4</p>\r\n                                            </Col>\r\n                                            <Col md=\"4\">\r\n                                                <p>8</p>\r\n                                            </Col>\r\n                                            <Col md=\"4\">\r\n                                                <p>10</p>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                        <Row>\r\n                                            <Col md=\"4\">\r\n                                                <p>12</p>\r\n                                            </Col>\r\n                                            <Col md=\"4\">\r\n                                                <p>16</p>\r\n                                            </Col>\r\n                                            <Col md=\"4\">\r\n                                                <p>20</p>\r\n                                            </Col>\r\n                                        </Row>\r\n                                </Card>\r\n                            </Col>\r\n                            <Col md=\"3\">\r\n                                <Card body>\r\n                                    <CardTitle>BPM</CardTitle>\r\n                                    <Row>\r\n                                        <Col md={{size: \"4\", offset: \"4\"}}>\r\n                                            <Input type=\"number\" name=\"selectMulti\" id=\"exampleSelectMulti\" defaultValue={props.state.bpm}>\r\n                                            </Input>\r\n                                        </Col>\r\n                                    </Row>\r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n                        \r\n                        \r\n                    </TabPane>\r\n\r\n                    <TabPane tabId=\"2\" className=\"tab__bar-settings\">\r\n                        <Row>\r\n                            <Col md={{size: \"6\", offset: \"3\"}}>\r\n                                <Card body>\r\n                                    <Label>\r\n                                        Longer notes on beat\r\n                                        <Input type=\"range\" defaultValue={props.state.easyOBProb}/>\r\n                                    </Label>\r\n                                    \r\n                                    <Label>\r\n                                        Aspiration to strong and weak beats\r\n                                        <Input type=\"range\" defaultValue={props.state.fixingBeatProb}/>\r\n                                    </Label>\r\n\r\n                                    <Label>\r\n                                        Pause value\r\n                                        <Input type=\"range\" defaultValue={props.state.pauseValue}/>\r\n                                    </Label>\r\n\r\n                                    <Label className=\"settings__tabs__content__checkbox\">\r\n                                        <Input type=\"checkbox\" defaultChecked={props.state.groupRest}/> Summing rests\r\n                                    </Label>\r\n\r\n                                    <Label className=\"settings__tabs__content__checkbox\">\r\n                                        <Input type=\"checkbox\" defaultChecked={props.state.linkIns}/> Link inside bar\r\n                                    </Label>\r\n\r\n                                    <Label>\r\n                                        Link outside the bar\r\n                                        <Input type=\"range\" defaultValue={props.state.linkOut}/>\r\n                                    </Label>\r\n\r\n                                    <Label className=\"settings__tabs__content__checkbox\">\r\n                                        <Input type=\"checkbox\" defaultChecked={props.state.showBeat}/> Show beat (beaming)\r\n                                    </Label>\r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n                    </TabPane>\r\n\r\n                    <TabPane tabId=\"3\">\r\n                        <Row>\r\n                            <Col md=\"6\" className=\"mb-4\">\r\n                                <Card body>\r\n                                    <CardTitle>Simple note values</CardTitle>\r\n\r\n                                    <Label>\r\n                                        <Input type=\"range\" defaultValue={props.state.simpleK * 100 / props.state.maxK}/>\r\n                                    </Label>\r\n                                    <Row>\r\n                                        <Col md={{size: \"4\", offset: \"4\"}} className=\"mb-2 mt-2\">\r\n                                            <button className=\"btn btn-secondary\" id=\"simpleVals\">Settings</button>\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                    <UncontrolledCollapse toggler=\"#simpleVals\">\r\n                                        <Row>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.noteValues.whole}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.noteValues.half}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.noteValues.quarter}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.noteValues.eighth}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.noteValues.sixteenth}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.noteValues.thirtySecond}></Input>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                        <Row>\r\n                                            <Col md=\"2\">\r\n                                                <p>whole</p>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <p>half</p>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <p>quarter</p>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <p>eighth</p>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <p>sixteenth</p>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <p>thirty-second</p>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                    </UncontrolledCollapse>\r\n                                        \r\n                                </Card>\r\n                            </Col>\r\n\r\n                            <Col md=\"6\" className={props.state.dotsK <= 0 ? \"card--inactive mb-4\" : \"mb-4\"}>\r\n                                <Card body>\r\n                                    <CardTitle>Dotted note values</CardTitle>\r\n\r\n                                    <Label>\r\n                                        <Input type=\"range\" defaultValue={props.state.dotsK * 100 / props.state.maxK}/>\r\n                                    </Label>\r\n\r\n                                    <Row>\r\n                                        <Col md={{size: \"4\", offset: \"4\"}} className=\"mb-2 mt-2\">\r\n                                            <button className=\"btn btn-secondary\" id=\"dottedVals\">Settings</button>\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                    <UncontrolledCollapse toggler=\"#dottedVals\">\r\n                                        <Row>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.dottedValues.whole}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.dottedValues.half}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.dottedValues.quarter}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.dottedValues.eighth}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.dottedValues.sixteenth}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.dottedValues.thirtySecond}></Input>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                        <Row>\r\n                                            <Col md=\"2\">\r\n                                                <p>whole</p>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <p>half</p>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <p>quarter</p>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <p>eighth</p>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <p>sixteenth</p>\r\n                                            </Col>\r\n                                            <Col md=\"2\">\r\n                                                <p>thirty-second</p>\r\n                                            </Col>\r\n                                        </Row>\r\n                                    </UncontrolledCollapse>\r\n                                    \r\n                                </Card>\r\n                            </Col>\r\n\r\n                            <Col md={{size: \"6\", offset: \"3\"}} className={props.state.groupK <= 0 ? \"card--inactive mb-4\" : \"mb-4\"}>\r\n                                <Card body>\r\n                                    <CardTitle>Tuplet note values</CardTitle>\r\n\r\n                                    <Label>\r\n                                        <Input type=\"range\" defaultValue={props.state.groupK * 100 / props.state.maxK}/>\r\n                                    </Label>\r\n\r\n                                    <Row>\r\n                                        <Col md={{size: \"4\", offset: \"4\"}} className=\"mb-2 mt-2\">\r\n                                            <button className=\"btn btn-secondary\" id=\"tupletVals\">Settings</button>\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                    <UncontrolledCollapse toggler=\"#tupletVals\">\r\n                                       <Row>\r\n                                            <Col md=\"3\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.groupingValues.whole}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.groupingValues.half}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.groupingValues.quarter}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.groupingValues.eighth}></Input>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                        <Row>\r\n                                            <Col md=\"3\">\r\n                                                <p>whole</p>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <p>half</p>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <p>quarter</p>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <p>eighth</p>\r\n                                            </Col>\r\n                                        </Row> \r\n\r\n                                        <Label>\r\n                                            Quinteplet Probability\r\n                                            <Input type=\"range\" defaultValue={100 - props.state.tripletValue}/>\r\n                                        </Label>\r\n\r\n                                        <Row>\r\n                                        <Col md={{size: \"4\", offset: \"4\"}} className=\"mb-2 mt-2\">\r\n                                            <button className=\"btn btn-secondary\" id=\"quintepletProb\" disabled={props.state.tripletValue === 100}>Quinteplet Map</button>\r\n                                        </Col>\r\n                                    </Row>\r\n\r\n                                    <UncontrolledCollapse toggler=\"#quintepletProb\">\r\n                                       <Row>\r\n                                            <Col md=\"3\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.quintepletMap.whole}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.quintepletMap.half}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.quintepletMap.quarter}></Input>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <Input type=\"range\" className=\"input\" defaultValue={props.state.quintepletMap.eighth}></Input>\r\n                                            </Col>\r\n                                        </Row>\r\n\r\n                                        <Row>\r\n                                            <Col md=\"3\">\r\n                                                <p>whole</p>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <p>half</p>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <p>quarter</p>\r\n                                            </Col>\r\n                                            <Col md=\"3\">\r\n                                                <p>eighth</p>\r\n                                            </Col>\r\n                                        </Row> \r\n                                    </UncontrolledCollapse>\r\n                                    </UncontrolledCollapse>\r\n                                    \r\n                                </Card>\r\n                            </Col>\r\n                        </Row>\r\n                    </TabPane>\r\n                </TabContent>\r\n                </div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\nlet SettingsTabs = connect(mapStateToProps, mapDispatchToProps)(SettingsTabsCon);\r\n\r\nexport default SettingsTabs;","import {mapStateToProps, mapDispatchToProps} from \"../redux/redux\";\r\nimport {connect} from \"react-redux\";\r\nimport React from 'react';\r\nimport SettingsTabs from \"./tabs\";\r\nimport {Progress, Label, Input, UncontrolledTooltip} from \"reactstrap\";\r\n\r\nclass SettingsCon extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    this.mainPage = this.mainPage.bind(this);\r\n    this.tips = this.tips.bind(this);\r\n    }\r\n    mainPage() {\r\n        setTimeout(() => {\r\n           this.props.updateState({settings: false});\r\n           \r\n           document.querySelector(\".main_page\").classList.remove(\"main_page--settAnim\", \"main_page--settAnim--back\");\r\n              }, 700);\r\n              \r\n              document.querySelector(\"nav\").classList.remove(\"nav--out\");\r\n        \r\n        document.querySelector(\".main_page\").classList.add(\"main_page--settAnim--back\");\r\n        setTimeout(() => document.querySelector(\".settings--hook\").style.pointerEvents = \"auto\", 800);\r\n    }\r\n\r\n    tips() {\r\n        this.props.updateState({tips: !this.props.state.tips})\r\n    }\r\n\r\n    componentDidMount() {\r\n        document.querySelector(\".settings_page\").style.height = document.querySelector(\".main_page\").clientHeight + \"px\";\r\n\r\n        document.querySelector(\"nav\").classList.add(\"nav--out\");\r\n\r\n        let usedClass = document.querySelector(\".main_page\").classList;\r\n        usedClass.remove(\"main_page--settAnim\", \"main_page--settAnim--back\")\r\n        usedClass.toggle(\"main_page--settAnim\");\r\n        setTimeout(() => document.querySelector(\".main_page--hook_sett\").style.pointerEvents = \"auto\", 700)\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                \r\n                <div className=\"settings_page\">\r\n                    <h1 className=\"display-4\">Settings (W.I.P.)</h1>\r\n                    <div className=\"main_page--hook_sett\" onMouseOver={this.mainPage}>Main_Page</div>\r\n                    <div className=\"settings--inside\">\r\n                        \r\n\r\n                    <Label style={{marginLeft: \"5em\"}} id=\"tips\">\r\n                        <Input type=\"checkbox\" onClick={this.tips} defaultChecked={this.props.state.tips}/>Tips\r\n                    </Label>\r\n                    <UncontrolledTooltip target=\"tips\" placement=\"right\">Tips on hover</UncontrolledTooltip>\r\n\r\n                    <SettingsTabs/>\r\n                        \r\n                        {/* <Progress multi>\r\n                            <Progress bar style={{backgroundColor: \"red\"}} value={15}>whole</Progress>\r\n                            <Progress bar style={{backgroundColor: \"green\"}} value={45}>half</Progress>\r\n                            <Progress bar style={{backgroundColor: \"black\"}} value={40}>quarter</Progress>\r\n                        </Progress> */}\r\n                        \r\n                    </div>\r\n                    \r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nlet Settings = connect(mapStateToProps, mapDispatchToProps)(SettingsCon);\r\n\r\nexport default Settings;","import {mapStateToProps, mapDispatchToProps} from \"./redux/redux\";\r\nimport {connect} from \"react-redux\";\r\nimport React from 'react';\r\n\r\n\r\nclass InfoCon extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    this.mainPage = this.mainPage.bind(this);\r\n    }\r\n\r\n    mainPage() {\r\n        document.querySelector(\".main_page--hook_info\").style.pointerEvents = \"none\";\r\n        setTimeout(() => {\r\n            this.props.updateState({info: false});\r\n        }, 700)\r\n\r\n        document.querySelector(\"nav\").classList.remove(\"nav--out\");\r\n\r\n        setTimeout(() => {\r\n            document.querySelector(\".info--hook\").style.pointerEvents = \"auto\";\r\n        }, 800)\r\n        \r\n        document.querySelector(\".info_page\").classList.add(\"info_page--infoAnim--back\");\r\n    }\r\n    componentDidMount() {\r\n        document.querySelector(\".info_page\").style.height = document.querySelector(\".main_page\").clientHeight + \"px\";\r\n        \r\n        document.querySelector(\".info_page\").classList.add(\"info_page--infoAnim\");\r\n\r\n        document.querySelector(\"nav\").classList.add(\"nav--out\");\r\n\r\n        setTimeout(() => {\r\n            document.querySelector(\".main_page--hook_info\").style.pointerEvents = \"auto\";\r\n          }, 700);\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div>\r\n                    <div className=\"info_page\">\r\n                        <div className=\"info\">\r\n                            {/* <div className=\"info--inside\"></div> */}\r\n                            <div className=\"main_page--hook_info\" onMouseOver={this.mainPage}>Main_Page</div>\r\n\r\n                        <h1 className=\"display-4\">Info (W.I.P.)</h1>\r\n\r\n                        </div>\r\n                    </div>   \r\n                </div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nlet Info = connect(mapStateToProps, mapDispatchToProps)(InfoCon);\r\n\r\nexport default Info;","import React from \"react\";\r\n\r\n\r\n\r\nclass Header extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"header__page\">\r\n                    <header>\r\n                        <h1 className=\"display-4\">Welcome to <strong>Score Gym</strong>(build 0.79)</h1>\r\n                    </header>\r\n\r\n                    {/* <img href=\"#\" alt=\"header img placeholder\"></img> */}\r\n                </div>\r\n                \r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Header;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from 'react-redux';\nimport {createStore} from 'redux';\nimport {stateReducer} from './redux/redux';\n\nconst store = createStore(stateReducer,  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nReactDOM.render(<Provider store={store}>\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  </Provider>\n  ,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}